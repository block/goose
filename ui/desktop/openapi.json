{
  "openapi": "3.0.3",
  "info": {
    "title": "goose-server",
    "description": "An AI agent",
    "contact": {
      "name": "Block",
      "email": "ai-oss-tools@block.xyz"
    },
    "license": {
      "name": "Apache-2.0"
    },
    "version": "1.23.0"
  },
  "paths": {
    "/a2a/agents": {
      "get": {
        "tags": [
          "A2A Instances"
        ],
        "summary": "List all available personas.",
        "operationId": "list_personas",
        "responses": {
          "200": {
            "description": "List of available personas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PersonaSummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/a2a/instances": {
      "get": {
        "tags": [
          "A2A Instances"
        ],
        "summary": "List all pool instances with their current status.",
        "operationId": "list_instances",
        "responses": {
          "200": {
            "description": "List of all agent pool instances",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/InstanceResponse"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "A2A Instances"
        ],
        "summary": "Spawn a new agent instance in the pool.",
        "operationId": "spawn_instance",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SpawnInstanceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Instance spawned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid provider or model config"
          },
          "503": {
            "description": "No default provider or spawn failed"
          }
        }
      }
    },
    "/a2a/instances/{instance_id}": {
      "get": {
        "tags": [
          "A2A Instances"
        ],
        "summary": "Get status of a specific instance.",
        "operationId": "get_instance",
        "parameters": [
          {
            "name": "instance_id",
            "in": "path",
            "description": "Instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Instance status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found"
          }
        }
      },
      "delete": {
        "tags": [
          "A2A Instances"
        ],
        "summary": "Cancel a running instance.",
        "operationId": "cancel_instance",
        "parameters": [
          {
            "name": "instance_id",
            "in": "path",
            "description": "Instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Instance cancelled"
          },
          "404": {
            "description": "Instance not found"
          }
        }
      }
    },
    "/a2a/instances/{instance_id}/card": {
      "get": {
        "tags": [
          "A2A Instances"
        ],
        "summary": "Get the A2A agent card for a specific instance.",
        "operationId": "get_instance_card",
        "parameters": [
          {
            "name": "instance_id",
            "in": "path",
            "description": "Instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Instance agent card"
          },
          "404": {
            "description": "Instance not found"
          }
        }
      }
    },
    "/a2a/instances/{instance_id}/events": {
      "get": {
        "tags": [
          "A2A Instances"
        ],
        "summary": "Stream real-time events from a running pool instance via SSE.",
        "description": "Subscribes to the instance's broadcast channel and streams PoolEvents\nas Server-Sent Events. The stream closes when the instance completes\nor the client disconnects.",
        "operationId": "stream_instance_events",
        "parameters": [
          {
            "name": "instance_id",
            "in": "path",
            "description": "Instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "SSE event stream for instance"
          },
          "404": {
            "description": "Instance not found"
          }
        }
      }
    },
    "/a2a/instances/{instance_id}/result": {
      "get": {
        "tags": [
          "A2A Instances"
        ],
        "summary": "Get the result of a completed instance.",
        "operationId": "get_instance_result",
        "parameters": [
          {
            "name": "instance_id",
            "in": "path",
            "description": "Instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Instance result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceResultResponse"
                }
              }
            }
          },
          "404": {
            "description": "Instance not found"
          }
        }
      }
    },
    "/action-required/tool-confirmation": {
      "post": {
        "tags": [
          "super::routes::action_required"
        ],
        "operationId": "confirm_tool_action",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmToolActionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Tool confirmation action is confirmed",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/add_extension": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "agent_add_extension",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddExtensionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Extension added",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "424": {
            "description": "Agent not initialized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/call_tool": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "call_tool",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CallToolRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Resource read successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallToolResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "404": {
            "description": "Resource not found"
          },
          "424": {
            "description": "Agent not initialized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/export_app/{name}": {
      "get": {
        "tags": [
          "Agent"
        ],
        "operationId": "export_app",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Name of the app to export",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "App HTML exported successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "App not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/agent/import_app": {
      "post": {
        "tags": [
          "Agent"
        ],
        "operationId": "import_app",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportAppRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "App imported successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImportAppResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid HTML",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/agent/list_apps": {
      "get": {
        "tags": [
          "Agent"
        ],
        "operationId": "list_apps",
        "parameters": [
          {
            "name": "session_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of apps retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListAppsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/agent/prompts": {
      "get": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "list_extension_prompts",
        "parameters": [
          {
            "name": "session_id",
            "in": "query",
            "description": "Required session ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "MCP extension prompts grouped by extension name"
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "424": {
            "description": "Agent not initialized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/prompts/get": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "get_extension_prompt",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GetPromptRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Prompt messages",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetPromptResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "404": {
            "description": "Prompt not found"
          },
          "424": {
            "description": "Agent not initialized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/read_resource": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "read_resource",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadResourceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Resource read successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadResourceResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "404": {
            "description": "Resource not found"
          },
          "424": {
            "description": "Agent not initialized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/remove_extension": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "agent_remove_extension",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RemoveExtensionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Extension removed",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "424": {
            "description": "Agent not initialized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/restart": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "restart_agent",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RestartAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Agent restarted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RestartAgentResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/resume": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "resume_agent",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResumeAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Agent started successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResumeAgentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid working directory"
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/start": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "start_agent",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StartAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Agent started successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/agent/stop": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "stop_agent",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StopAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Agent stopped successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/tools": {
      "get": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "get_tools",
        "parameters": [
          {
            "name": "extension_name",
            "in": "query",
            "description": "Optional extension name to filter tools",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "session_id",
            "in": "query",
            "description": "Required session ID to scope tools to a specific session",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tools retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ToolInfo"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "424": {
            "description": "Agent not initialized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/update_from_session": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "update_from_session",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFromSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Update agent from session data successfully"
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "424": {
            "description": "Agent not initialized"
          }
        }
      }
    },
    "/agent/update_provider": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "update_agent_provider",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Provider updated successfully"
          },
          "400": {
            "description": "Bad request - missing or invalid parameters"
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "424": {
            "description": "Agent not initialized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agent/update_working_dir": {
      "post": {
        "tags": [
          "super::routes::agent"
        ],
        "operationId": "update_working_dir",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateWorkingDirRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Working directory updated and agent restarted successfully"
          },
          "400": {
            "description": "Bad request - invalid directory path"
          },
          "401": {
            "description": "Unauthorized - invalid secret key"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agents": {
      "get": {
        "tags": [
          "ACP Discovery"
        ],
        "summary": "ACP v0.2.0 GET /agents â€” one manifest per agent persona",
        "operationId": "list_agents",
        "responses": {
          "200": {
            "description": "List available agents",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentsListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/agents/builtin": {
      "get": {
        "tags": [
          "Builtin Agents"
        ],
        "operationId": "list_builtin_agents",
        "responses": {
          "200": {
            "description": "List builtin agents with their modes",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BuiltinAgentsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/agents/builtin/{name}/extensions/bind": {
      "post": {
        "tags": [
          "Builtin Agents"
        ],
        "operationId": "bind_extension_to_agent",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Agent name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BindExtensionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Extension bound"
          }
        }
      }
    },
    "/agents/builtin/{name}/extensions/unbind": {
      "post": {
        "tags": [
          "Builtin Agents"
        ],
        "operationId": "unbind_extension_from_agent",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Agent name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BindExtensionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Extension unbound"
          }
        }
      }
    },
    "/agents/builtin/{name}/toggle": {
      "post": {
        "tags": [
          "Builtin Agents"
        ],
        "operationId": "toggle_builtin_agent",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Agent name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Agent toggled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToggleAgentResponse"
                }
              }
            }
          },
          "404": {
            "description": "Agent not found"
          }
        }
      }
    },
    "/agents/catalog": {
      "get": {
        "tags": [
          "Agent Catalog"
        ],
        "operationId": "agent_catalog",
        "responses": {
          "200": {
            "description": "Unified agent catalog",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentCatalogResponse"
                }
              }
            }
          }
        }
      }
    },
    "/agents/external": {
      "get": {
        "tags": [
          "External Agents"
        ],
        "operationId": "list_agents",
        "responses": {
          "200": {
            "description": "List of connected agents",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/agents/external/connect": {
      "post": {
        "tags": [
          "External Agents"
        ],
        "operationId": "connect_agent",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConnectAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Agent connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectAgentResponse"
                }
              }
            }
          },
          "404": {
            "description": "Agent not found"
          },
          "422": {
            "description": "Agent has no distribution"
          }
        }
      }
    },
    "/agents/external/{agent_id}": {
      "delete": {
        "tags": [
          "External Agents"
        ],
        "operationId": "disconnect_agent",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "description": "Agent identifier",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Agent disconnected"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agents/external/{agent_id}/mode": {
      "post": {
        "tags": [
          "External Agents"
        ],
        "operationId": "set_mode",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "description": "Agent identifier",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetModeAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Mode set"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agents/external/{agent_id}/prompt": {
      "post": {
        "tags": [
          "External Agents"
        ],
        "operationId": "prompt_agent",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "description": "Agent identifier",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Prompt response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptAgentResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agents/external/{agent_id}/session": {
      "post": {
        "tags": [
          "External Agents"
        ],
        "operationId": "create_session",
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "description": "Agent identifier",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Session created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateSessionResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/agents/{name}": {
      "get": {
        "tags": [
          "ACP Discovery"
        ],
        "summary": "ACP v0.2.0 GET /agents/{name}",
        "operationId": "get_agent",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Agent slug (e.g. goose-agent, developer-agent)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Agent manifest",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentManifest"
                }
              }
            }
          },
          "404": {
            "description": "Agent not found"
          }
        }
      }
    },
    "/analytics/eval/compare": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "compareEvalRuns",
        "parameters": [
          {
            "name": "baseline_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "candidate_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunComparison"
                }
              }
            }
          }
        }
      }
    },
    "/analytics/eval/datasets": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "listEvalDatasets",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EvalDatasetSummary"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "createEvalDataset",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDatasetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvalDataset"
                }
              }
            }
          }
        }
      }
    },
    "/analytics/eval/datasets/{id}": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "getEvalDataset",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Dataset ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvalDataset"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "updateEvalDataset",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Dataset ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDatasetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvalDataset"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "deleteEvalDataset",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Dataset ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/analytics/eval/overview": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "getEvalOverview",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvalOverview"
                }
              }
            }
          }
        }
      }
    },
    "/analytics/eval/run": {
      "post": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "runEval",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunEvalRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvalRunDetail"
                }
              }
            }
          }
        }
      }
    },
    "/analytics/eval/runs": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "listEvalRuns",
        "parameters": [
          {
            "name": "dataset_id",
            "in": "query",
            "description": "Filter by dataset ID",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Max results",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EvalRunSummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/analytics/eval/runs/{id}": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "getEvalRun",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvalRunDetail"
                }
              }
            }
          }
        }
      }
    },
    "/analytics/eval/topics": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "getEvalTopics",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TopicAnalytics"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/analytics/monitoring/live": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "summary": "Get live monitoring metrics (recent activity snapshot)",
        "operationId": "get_live_monitoring",
        "responses": {
          "200": {
            "description": "Live monitoring metrics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LiveMetrics"
                }
              }
            }
          }
        }
      }
    },
    "/analytics/quality": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "summary": "Get response quality metrics",
        "operationId": "get_response_quality",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "description": "Number of days to analyze",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseQualityMetrics"
                }
              }
            }
          }
        }
      }
    },
    "/analytics/tools": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "getToolAnalytics",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "description": "Days to look back",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToolAnalytics"
                }
              }
            }
          }
        }
      }
    },
    "/analytics/tools/agents": {
      "get": {
        "tags": [
          "super::routes::analytics"
        ],
        "operationId": "getAgentPerformance",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "description": "Days to look back",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentPerformanceMetrics"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login with API key and receive a session token",
        "operationId": "login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials"
          }
        }
      }
    },
    "/auth/login/oidc": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login with an OIDC ID token (obtained after the authorization code exchange).",
        "description": "The CLI exchanges the auth code for tokens client-side, then sends the ID token here.",
        "operationId": "oidc_login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OidcLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OIDC login successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OidcLoginResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or unverifiable ID token"
          }
        }
      }
    },
    "/auth/login/oidc/code": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Exchange an OIDC authorization code for a session token.",
        "description": "The server handles the code-to-token exchange with the OIDC provider,\nvalidates the resulting ID token, and returns a goose session JWT.",
        "operationId": "oidc_code_exchange",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OidcCodeExchangeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Code exchange successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OidcCodeExchangeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Unknown OIDC provider"
          },
          "401": {
            "description": "Token exchange or validation failed"
          },
          "502": {
            "description": "Failed to communicate with OIDC provider"
          }
        }
      }
    },
    "/auth/login/oidc/url": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Generate an OIDC authorization URL for starting the login flow.",
        "description": "The CLI or frontend calls this to get a URL to open in the browser.",
        "operationId": "oidc_auth_url",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OidcAuthUrlRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Authorization URL generated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OidcAuthUrlResponse"
                }
              }
            }
          },
          "400": {
            "description": "Unknown OIDC provider"
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Logout â€” revoke the current session token",
        "operationId": "logout",
        "responses": {
          "200": {
            "description": "Logout successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get current user info from request headers",
        "operationId": "get_user_info",
        "responses": {
          "200": {
            "description": "Current user info",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserInfoResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/oidc/providers": {
      "get": {
        "tags": [
          "super::routes::auth_config"
        ],
        "summary": "List configured OIDC providers.",
        "operationId": "list_oidc_providers",
        "responses": {
          "200": {
            "description": "List of OIDC providers",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OidcProvidersResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "super::routes::auth_config"
        ],
        "summary": "Add an OIDC provider for JWT validation.",
        "operationId": "add_oidc_provider",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddOidcProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Provider added",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OidcProvidersResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "super::routes::auth_config"
        ],
        "summary": "Remove an OIDC provider by issuer URL.",
        "operationId": "remove_oidc_provider",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RemoveOidcProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Provider removed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OidcProvidersResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Refresh an existing session token",
        "operationId": "refresh_token",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Token refreshed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or expired token"
          }
        }
      }
    },
    "/auth/status": {
      "get": {
        "tags": [
          "super::routes::auth_config"
        ],
        "summary": "Get auth system status.",
        "operationId": "auth_status",
        "responses": {
          "200": {
            "description": "Auth status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/config": {
      "get": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "read_all_config",
        "responses": {
          "200": {
            "description": "All configuration values retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigResponse"
                }
              }
            }
          }
        }
      }
    },
    "/config/backup": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "backup_config",
        "responses": {
          "200": {
            "description": "Config file backed up",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/config/check_provider": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "check_provider",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CheckProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {}
      }
    },
    "/config/custom-providers": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "create_custom_provider",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCustomProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Custom provider created successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/config/custom-providers/{id}": {
      "get": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "get_custom_provider",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Custom provider retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoadedProvider"
                }
              }
            }
          },
          "404": {
            "description": "Provider not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "update_custom_provider",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCustomProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Custom provider updated successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Provider not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "remove_custom_provider",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Custom provider removed successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Provider not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/config/detect-provider": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "detect_provider",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DetectProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Provider detected successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DetectProviderResponse"
                }
              }
            }
          },
          "404": {
            "description": "No matching provider found"
          }
        }
      }
    },
    "/config/extensions": {
      "get": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "get_extensions",
        "responses": {
          "200": {
            "description": "All extensions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtensionResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "add_extension",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExtensionQuery"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Extension added or updated successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "422": {
            "description": "Could not serialize config.yaml"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/config/extensions/{name}": {
      "delete": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "remove_extension",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Extension removed successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Extension not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/config/init": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "init_config",
        "responses": {
          "200": {
            "description": "Config initialization check completed",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/config/permissions": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "upsert_permissions",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpsertPermissionsQuery"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Permission update completed",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          }
        }
      }
    },
    "/config/pricing": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "get_pricing",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PricingQuery"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Model pricing data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PricingResponse"
                }
              }
            }
          }
        }
      }
    },
    "/config/prompts": {
      "get": {
        "tags": [
          "super::routes::prompts"
        ],
        "operationId": "get_prompts",
        "responses": {
          "200": {
            "description": "List of all available prompts",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptsListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/config/prompts/{name}": {
      "get": {
        "tags": [
          "super::routes::prompts"
        ],
        "operationId": "get_prompt",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Prompt template name (e.g., system.md)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Prompt content retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptContentResponse"
                }
              }
            }
          },
          "404": {
            "description": "Prompt not found"
          }
        }
      },
      "put": {
        "tags": [
          "super::routes::prompts"
        ],
        "operationId": "save_prompt",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Prompt template name (e.g., system.md)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SavePromptRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Prompt saved successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Prompt not found"
          },
          "500": {
            "description": "Failed to save prompt"
          }
        }
      },
      "delete": {
        "tags": [
          "super::routes::prompts"
        ],
        "operationId": "reset_prompt",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Prompt template name (e.g., system.md)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Prompt reset to default successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Prompt not found"
          },
          "500": {
            "description": "Failed to reset prompt"
          }
        }
      }
    },
    "/config/providers": {
      "get": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "providers",
        "responses": {
          "200": {
            "description": "All configuration values retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProviderDetails"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/config/providers/{name}/models": {
      "get": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "get_provider_models",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Provider name (e.g., openai)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Models fetched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Unknown provider, provider not configured, or authentication error"
          },
          "429": {
            "description": "Rate limit exceeded"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/config/providers/{name}/oauth": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "configure_provider_oauth",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Provider name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OAuth configuration completed"
          },
          "400": {
            "description": "OAuth configuration failed"
          }
        }
      }
    },
    "/config/read": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "read_config",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigKeyQuery"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Configuration value retrieved successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "500": {
            "description": "Unable to get the configuration value"
          }
        }
      }
    },
    "/config/recover": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "recover_config",
        "responses": {
          "200": {
            "description": "Config recovery attempted",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/config/remove": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "remove_config",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigKeyQuery"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Configuration value removed successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Configuration key not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/config/set_provider": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "set_config_provider",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {}
      }
    },
    "/config/slash_commands": {
      "get": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "get_slash_commands",
        "responses": {
          "200": {
            "description": "Slash commands retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SlashCommandsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/config/upsert": {
      "post": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "upsert_config",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpsertConfigQuery"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Configuration value upserted successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/config/validate": {
      "get": {
        "tags": [
          "super::routes::config_management"
        ],
        "operationId": "validate_config",
        "responses": {
          "200": {
            "description": "Config validation result",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Config file is corrupted"
          }
        }
      }
    },
    "/diagnostics/{session_id}": {
      "get": {
        "tags": [
          "super::routes::status"
        ],
        "operationId": "diagnostics",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Diagnostics zip file",
            "content": {
              "application/zip": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "500": {
            "description": "Failed to generate diagnostics"
          }
        }
      }
    },
    "/dictation/config": {
      "get": {
        "tags": [
          "super::routes::dictation"
        ],
        "operationId": "get_dictation_config",
        "responses": {
          "200": {
            "description": "Audio transcription provider configurations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "$ref": "#/components/schemas/DictationProviderStatus"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/dictation/models": {
      "get": {
        "tags": [
          "super::routes::dictation"
        ],
        "operationId": "list_models",
        "responses": {
          "200": {
            "description": "List of available Whisper models",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WhisperModelResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/dictation/models/{model_id}": {
      "delete": {
        "tags": [
          "super::routes::dictation"
        ],
        "operationId": "delete_model",
        "parameters": [
          {
            "name": "model_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Model deleted"
          },
          "404": {
            "description": "Model not found or not downloaded"
          },
          "500": {
            "description": "Failed to delete model"
          }
        }
      }
    },
    "/dictation/models/{model_id}/download": {
      "get": {
        "tags": [
          "super::routes::dictation"
        ],
        "operationId": "get_download_progress",
        "parameters": [
          {
            "name": "model_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Download progress",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadProgress"
                }
              }
            }
          },
          "404": {
            "description": "Download not found"
          }
        }
      },
      "post": {
        "tags": [
          "super::routes::dictation"
        ],
        "operationId": "download_model",
        "parameters": [
          {
            "name": "model_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "202": {
            "description": "Download started"
          },
          "400": {
            "description": "Download already in progress"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "tags": [
          "super::routes::dictation"
        ],
        "operationId": "cancel_download",
        "parameters": [
          {
            "name": "model_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Download cancelled"
          },
          "404": {
            "description": "Download not found"
          }
        }
      }
    },
    "/dictation/transcribe": {
      "post": {
        "tags": [
          "super::routes::dictation"
        ],
        "operationId": "transcribe_dictation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TranscribeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Audio transcribed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TranscribeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (bad base64 or unsupported format)"
          },
          "401": {
            "description": "Invalid API key"
          },
          "412": {
            "description": "Provider not configured"
          },
          "413": {
            "description": "Audio file too large (max 25MB)"
          },
          "429": {
            "description": "Rate limit exceeded"
          },
          "500": {
            "description": "Internal server error"
          },
          "502": {
            "description": "Provider API error"
          },
          "503": {
            "description": "Service unavailable"
          },
          "504": {
            "description": "Request timeout"
          }
        }
      }
    },
    "/extensions/live": {
      "get": {
        "tags": [
          "extensions"
        ],
        "summary": "List all active MCP connections",
        "operationId": "list_live_extensions",
        "responses": {
          "200": {
            "description": "List of active MCP extension connections",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LiveExtensionsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/extensions/live/{name}": {
      "get": {
        "tags": [
          "extensions"
        ],
        "summary": "Check if a specific extension is connected",
        "operationId": "get_live_extension",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Extension name to check",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Extension connection status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LiveExtensionInfo"
                }
              }
            }
          },
          "404": {
            "description": "Extension not found"
          }
        }
      }
    },
    "/extensions/live/{name}/disconnect": {
      "delete": {
        "tags": [
          "extensions"
        ],
        "summary": "Disconnect (stop) an active MCP extension",
        "operationId": "disconnect_extension",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Extension name to disconnect",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Extension disconnected successfully"
          },
          "404": {
            "description": "Extension not found or already disconnected"
          }
        }
      }
    },
    "/handle_openrouter": {
      "post": {
        "tags": [
          "super::routes::setup"
        ],
        "operationId": "start_openrouter_setup",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetupResponse"
                }
              }
            }
          }
        }
      }
    },
    "/handle_tetrate": {
      "post": {
        "tags": [
          "super::routes::setup"
        ],
        "operationId": "start_tetrate_setup",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetupResponse"
                }
              }
            }
          }
        }
      }
    },
    "/mcp-ui-proxy": {
      "get": {
        "tags": [
          "super::routes::mcp_ui_proxy"
        ],
        "operationId": "mcp_ui_proxy",
        "parameters": [
          {
            "name": "secret",
            "in": "query",
            "description": "Secret key for authentication",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "MCP UI proxy HTML page"
          },
          "401": {
            "description": "Unauthorized - invalid or missing secret"
          }
        }
      }
    },
    "/observatory/active-agents": {
      "get": {
        "tags": [
          "Observatory"
        ],
        "summary": "GET /observatory/active-agents â€” real-time agent status.",
        "operationId": "get_active_agents",
        "responses": {
          "200": {
            "description": "Active agents list",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ActiveAgent"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/observatory/dashboard": {
      "get": {
        "tags": [
          "Observatory"
        ],
        "summary": "GET /observatory/dashboard â€” unified system health + agents + performance.",
        "operationId": "get_dashboard",
        "responses": {
          "200": {
            "description": "Observatory dashboard",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ObservatoryDashboard"
                }
              }
            }
          }
        }
      }
    },
    "/observatory/health": {
      "get": {
        "tags": [
          "Observatory"
        ],
        "summary": "GET /observatory/health â€” system health check.",
        "operationId": "get_health",
        "responses": {
          "200": {
            "description": "System health",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemHealth"
                }
              }
            }
          }
        }
      }
    },
    "/orchestrator/status": {
      "get": {
        "tags": [
          "Orchestrator"
        ],
        "operationId": "orchestrator_status",
        "responses": {
          "200": {
            "description": "Orchestrator status"
          }
        }
      }
    },
    "/ping": {
      "get": {
        "tags": [
          "ACP Discovery"
        ],
        "summary": "ACP v0.2.0 GET /ping",
        "operationId": "ping",
        "responses": {
          "200": {
            "description": "Health check",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/pipelines/list": {
      "get": {
        "tags": [
          "super::routes::pipeline"
        ],
        "operationId": "listPipelines",
        "responses": {
          "200": {
            "description": "List all saved pipelines",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PipelineManifest"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal error"
          }
        }
      }
    },
    "/pipelines/save": {
      "post": {
        "tags": [
          "super::routes::pipeline"
        ],
        "operationId": "savePipeline",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SavePipelineRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Pipeline saved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavePipelineResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid pipeline"
          }
        }
      }
    },
    "/pipelines/validate": {
      "post": {
        "tags": [
          "super::routes::pipeline"
        ],
        "operationId": "validatePipeline",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Pipeline"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Validation result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidatePipelineResponse"
                }
              }
            }
          }
        }
      }
    },
    "/pipelines/{id}": {
      "get": {
        "tags": [
          "super::routes::pipeline"
        ],
        "operationId": "getPipeline",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Pipeline ID (filename without extension)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pipeline loaded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Pipeline"
                }
              }
            }
          },
          "404": {
            "description": "Pipeline not found"
          }
        }
      },
      "put": {
        "tags": [
          "super::routes::pipeline"
        ],
        "operationId": "updatePipeline",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Pipeline"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Pipeline updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavePipelineResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid pipeline"
          },
          "404": {
            "description": "Pipeline not found"
          }
        }
      },
      "delete": {
        "tags": [
          "super::routes::pipeline"
        ],
        "operationId": "deletePipeline",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Pipeline ID to delete",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pipeline deleted"
          },
          "404": {
            "description": "Pipeline not found"
          }
        }
      }
    },
    "/recipes/create": {
      "post": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "create_recipe",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRecipeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Recipe created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateRecipeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "412": {
            "description": "Precondition failed - Agent not available"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/recipes/decode": {
      "post": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "decode_recipe",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DecodeRecipeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Recipe decoded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DecodeRecipeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        }
      }
    },
    "/recipes/delete": {
      "post": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "delete_recipe",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteRecipeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Recipe deleted successfully"
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "404": {
            "description": "Recipe not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/recipes/encode": {
      "post": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "encode_recipe",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EncodeRecipeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Recipe encoded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EncodeRecipeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        }
      }
    },
    "/recipes/list": {
      "get": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "list_recipes",
        "responses": {
          "200": {
            "description": "Get recipe list successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListRecipeResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/recipes/parse": {
      "post": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "parse_recipe",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ParseRecipeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Recipe parsed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ParseRecipeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid recipe format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/recipes/save": {
      "post": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "save_recipe",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SaveRecipeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Recipe saved to file successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SaveRecipeResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/recipes/scan": {
      "post": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "scan_recipe",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScanRecipeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Recipe scanned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScanRecipeResponse"
                }
              }
            }
          }
        }
      }
    },
    "/recipes/schedule": {
      "post": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "schedule_recipe",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduleRecipeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Recipe scheduled successfully"
          },
          "404": {
            "description": "Recipe not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/recipes/slash-command": {
      "post": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "set_recipe_slash_command",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetSlashCommandRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Slash command set successfully"
          },
          "404": {
            "description": "Recipe not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/recipes/to-yaml": {
      "post": {
        "tags": [
          "Recipe Management"
        ],
        "operationId": "recipe_to_yaml",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RecipeToYamlRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Recipe converted to YAML successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipeToYamlResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Failed to convert recipe to YAML",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/reply": {
      "post": {
        "tags": [
          "super::routes::reply"
        ],
        "operationId": "reply",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Streaming response initiated",
            "content": {
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/MessageEvent"
                }
              }
            }
          },
          "424": {
            "description": "Agent not initialized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/runs": {
      "get": {
        "tags": [
          "ACP Runs"
        ],
        "operationId": "list_runs",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Max results",
            "required": false,
            "schema": {
              "type": "integer",
              "nullable": true,
              "minimum": 0
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Offset",
            "required": false,
            "schema": {
              "type": "integer",
              "nullable": true,
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of runs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AcpRun"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "ACP Runs"
        ],
        "operationId": "create_run",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Run created (stream/sync)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcpRun"
                }
              }
            }
          },
          "202": {
            "description": "Run created (async)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcpRun"
                }
              }
            }
          }
        }
      }
    },
    "/runs/{run_id}": {
      "get": {
        "tags": [
          "ACP Runs"
        ],
        "operationId": "get_run",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Run details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcpRun"
                }
              }
            }
          },
          "404": {
            "description": "Run not found"
          }
        }
      },
      "post": {
        "tags": [
          "ACP Runs"
        ],
        "operationId": "resume_run",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunResumeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Run resumed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcpRun"
                }
              }
            }
          },
          "404": {
            "description": "Run not found"
          },
          "409": {
            "description": "Run not in awaiting state"
          }
        }
      }
    },
    "/runs/{run_id}/cancel": {
      "post": {
        "tags": [
          "ACP Runs"
        ],
        "operationId": "cancel_run",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Run cancelled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcpRun"
                }
              }
            }
          },
          "404": {
            "description": "Run not found"
          }
        }
      }
    },
    "/runs/{run_id}/events": {
      "get": {
        "tags": [
          "ACP Runs"
        ],
        "operationId": "get_run_events",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Run events",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {}
                }
              }
            }
          },
          "404": {
            "description": "Run not found"
          }
        }
      }
    },
    "/schedule/create": {
      "post": {
        "tags": [
          "schedule"
        ],
        "operationId": "create_schedule",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateScheduleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Scheduled job created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledJob"
                }
              }
            }
          },
          "400": {
            "description": "Invalid cron expression or recipe file"
          },
          "409": {
            "description": "Job ID already exists"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/schedule/delete/{id}": {
      "delete": {
        "tags": [
          "schedule"
        ],
        "operationId": "delete_schedule",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the schedule to delete",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Scheduled job deleted successfully"
          },
          "404": {
            "description": "Scheduled job not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/schedule/list": {
      "get": {
        "tags": [
          "schedule"
        ],
        "operationId": "list_schedules",
        "responses": {
          "200": {
            "description": "A list of scheduled jobs",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListSchedulesResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/schedule/{id}": {
      "put": {
        "tags": [
          "schedule"
        ],
        "operationId": "update_schedule",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the schedule to update",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateScheduleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Scheduled job updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledJob"
                }
              }
            }
          },
          "400": {
            "description": "Cannot update a currently running job or invalid request"
          },
          "404": {
            "description": "Scheduled job not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/schedule/{id}/inspect": {
      "get": {
        "tags": [
          "schedule"
        ],
        "operationId": "inspect_running_job",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the schedule to inspect",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Running job information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InspectJobResponse"
                }
              }
            }
          },
          "404": {
            "description": "Scheduled job not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/schedule/{id}/kill": {
      "post": {
        "tags": [
          "schedule"
        ],
        "operationId": "kill_running_job",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Running job killed successfully"
          }
        }
      }
    },
    "/schedule/{id}/pause": {
      "post": {
        "tags": [
          "schedule"
        ],
        "operationId": "pause_schedule",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the schedule to pause",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Scheduled job paused successfully"
          },
          "400": {
            "description": "Cannot pause a currently running job"
          },
          "404": {
            "description": "Scheduled job not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/schedule/{id}/run_now": {
      "post": {
        "tags": [
          "schedule"
        ],
        "operationId": "run_now_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the schedule to run",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Scheduled job triggered successfully, returns new session ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunNowResponse"
                }
              }
            }
          },
          "404": {
            "description": "Scheduled job not found"
          },
          "500": {
            "description": "Internal server error when trying to run the job"
          }
        }
      }
    },
    "/schedule/{id}/sessions": {
      "get": {
        "tags": [
          "schedule"
        ],
        "operationId": "sessions_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the schedule",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A list of session display info",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SessionDisplayInfo"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/schedule/{id}/unpause": {
      "post": {
        "tags": [
          "schedule"
        ],
        "operationId": "unpause_schedule",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the schedule to unpause",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Scheduled job unpaused successfully"
          },
          "404": {
            "description": "Scheduled job not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/session/{session_id}": {
      "get": {
        "tags": [
          "ACP Sessions"
        ],
        "summary": "ACP-compatible GET /session/{session_id} â€” returns ACP Session schema.",
        "operationId": "get_acp_session",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "description": "Session ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ACP session view",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcpSession"
                }
              }
            }
          },
          "404": {
            "description": "Session not found"
          }
        }
      }
    },
    "/sessions": {
      "get": {
        "tags": [
          "Session Management"
        ],
        "operationId": "list_sessions",
        "responses": {
          "200": {
            "description": "List of available sessions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/analytics": {
      "get": {
        "tags": [
          "Session Management"
        ],
        "operationId": "get_session_analytics",
        "responses": {
          "200": {
            "description": "Session analytics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionAnalytics"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/import": {
      "post": {
        "tags": [
          "Session Management"
        ],
        "operationId": "import_session",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Session imported successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON"
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/insights": {
      "get": {
        "tags": [
          "Session Management"
        ],
        "operationId": "get_session_insights",
        "responses": {
          "200": {
            "description": "Session insights retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionInsights"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/search": {
      "get": {
        "tags": [
          "Session Management"
        ],
        "operationId": "search_sessions",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "Search query string",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum results (default: 10, max: 50)",
            "required": false,
            "schema": {
              "type": "integer",
              "nullable": true,
              "minimum": 0
            }
          },
          {
            "name": "after_date",
            "in": "query",
            "description": "Filter after date (ISO 8601)",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "before_date",
            "in": "query",
            "description": "Filter before date (ISO 8601)",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Matching sessions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Session"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/{session_id}": {
      "get": {
        "tags": [
          "Session Management"
        ],
        "operationId": "get_session",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "description": "Unique identifier for the session",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session history retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Session Management"
        ],
        "operationId": "delete_session",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "description": "Unique identifier for the session",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session deleted successfully"
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/{session_id}/clear": {
      "post": {
        "tags": [
          "Session Management"
        ],
        "operationId": "clear_session",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "description": "Unique identifier for the session",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session cleared successfully"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/{session_id}/export": {
      "get": {
        "tags": [
          "Session Management"
        ],
        "operationId": "export_session",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "description": "Unique identifier for the session",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session exported successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/{session_id}/extensions": {
      "get": {
        "tags": [
          "Session Management"
        ],
        "operationId": "get_session_extensions",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "description": "Unique identifier for the session",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session extensions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionExtensionsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/{session_id}/fork": {
      "post": {
        "tags": [
          "Session Management"
        ],
        "operationId": "fork_session",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "description": "Unique identifier for the session",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Session forked successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForkResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - truncate=true requires timestamp"
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/{session_id}/messages": {
      "post": {
        "tags": [
          "Session Management"
        ],
        "operationId": "add_message",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "description": "Unique identifier for the session",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Message"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Message added successfully"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/{session_id}/name": {
      "put": {
        "tags": [
          "Session Management"
        ],
        "operationId": "update_session_name",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "description": "Unique identifier for the session",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSessionNameRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Session name updated successfully"
          },
          "400": {
            "description": "Bad request - Name too long (max 200 characters)"
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/sessions/{session_id}/user_recipe_values": {
      "put": {
        "tags": [
          "Session Management"
        ],
        "operationId": "update_session_user_recipe_values",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "description": "Unique identifier for the session",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSessionUserRecipeValuesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Session user recipe values updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateSessionUserRecipeValuesResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing API key"
          },
          "404": {
            "description": "Session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/status": {
      "get": {
        "tags": [
          "super::routes::status"
        ],
        "operationId": "status",
        "responses": {
          "200": {
            "description": "ok",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/system_info": {
      "get": {
        "tags": [
          "super::routes::status"
        ],
        "operationId": "system_info",
        "responses": {
          "200": {
            "description": "System information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemInfo"
                }
              }
            }
          }
        }
      }
    },
    "/telemetry/event": {
      "post": {
        "tags": [
          "super::routes::telemetry"
        ],
        "operationId": "send_telemetry_event",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TelemetryEventRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Event accepted for processing"
          }
        }
      }
    },
    "/tunnel/start": {
      "post": {
        "tags": [
          "super::routes::tunnel"
        ],
        "summary": "Start the tunnel",
        "operationId": "start_tunnel",
        "responses": {
          "200": {
            "description": "Tunnel started successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TunnelInfo"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/tunnel/status": {
      "get": {
        "tags": [
          "super::routes::tunnel"
        ],
        "summary": "Get tunnel info",
        "operationId": "get_tunnel_status",
        "responses": {
          "200": {
            "description": "Tunnel info",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TunnelInfo"
                }
              }
            }
          }
        }
      }
    },
    "/tunnel/stop": {
      "post": {
        "tags": [
          "super::routes::tunnel"
        ],
        "summary": "Stop the tunnel",
        "operationId": "stop_tunnel",
        "responses": {
          "200": {
            "description": "Tunnel stopped successfully"
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AccuracyTrendPoint": {
        "type": "object",
        "required": [
          "runId",
          "date",
          "versionTag",
          "overallAccuracy",
          "agentAccuracy",
          "modeAccuracy"
        ],
        "properties": {
          "agentAccuracy": {
            "type": "number",
            "format": "double"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "modeAccuracy": {
            "type": "number",
            "format": "double"
          },
          "overallAccuracy": {
            "type": "number",
            "format": "double"
          },
          "runId": {
            "type": "string"
          },
          "versionTag": {
            "type": "string"
          }
        }
      },
      "AcpError": {
        "type": "object",
        "description": "ACP error object.",
        "required": [
          "code",
          "message"
        ],
        "properties": {
          "code": {
            "type": "string"
          },
          "data": {
            "nullable": true
          },
          "message": {
            "type": "string"
          }
        }
      },
      "AcpMessage": {
        "type": "object",
        "description": "ACP message: role + ordered parts.",
        "required": [
          "role",
          "parts"
        ],
        "properties": {
          "parts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AcpMessagePart"
            }
          },
          "role": {
            "$ref": "#/components/schemas/AcpRole"
          }
        }
      },
      "AcpMessagePart": {
        "type": "object",
        "description": "A single part of an ACP message.",
        "required": [
          "content_type"
        ],
        "properties": {
          "content": {
            "type": "string",
            "nullable": true
          },
          "content_encoding": {
            "type": "string",
            "nullable": true
          },
          "content_type": {
            "type": "string"
          },
          "content_url": {
            "type": "string",
            "nullable": true
          },
          "metadata": {
            "nullable": true
          }
        }
      },
      "AcpRole": {
        "type": "string",
        "description": "ACP role â€” \"user\" or \"agent\" (with optional sub-agent path like \"agent/coding\").",
        "enum": [
          "user",
          "agent"
        ]
      },
      "AcpRun": {
        "type": "object",
        "description": "A run object per ACP v0.2.0 spec.",
        "required": [
          "run_id",
          "agent_name",
          "status",
          "created_at"
        ],
        "properties": {
          "agent_name": {
            "type": "string"
          },
          "await_request": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AwaitRequest"
              }
            ],
            "nullable": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "error": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AcpError"
              }
            ],
            "nullable": true
          },
          "finished_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "metadata": {
            "nullable": true
          },
          "output": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AcpMessage"
            }
          },
          "run_id": {
            "type": "string"
          },
          "session_id": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "$ref": "#/components/schemas/AcpRunStatus"
          }
        }
      },
      "AcpRunStatus": {
        "type": "string",
        "description": "Run status per ACP v0.2.0 spec.",
        "enum": [
          "created",
          "in_progress",
          "awaiting",
          "completed",
          "cancelled",
          "failed"
        ]
      },
      "AcpSession": {
        "type": "object",
        "description": "ACP session object.",
        "required": [
          "id"
        ],
        "properties": {
          "history": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "id": {
            "type": "string"
          },
          "state": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ActionRequired": {
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ActionRequiredData"
          }
        }
      },
      "ActionRequiredData": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "id",
              "toolName",
              "arguments",
              "actionType"
            ],
            "properties": {
              "actionType": {
                "type": "string",
                "enum": [
                  "toolConfirmation"
                ]
              },
              "arguments": {
                "$ref": "#/components/schemas/JsonObject"
              },
              "id": {
                "type": "string"
              },
              "prompt": {
                "type": "string",
                "nullable": true
              },
              "toolName": {
                "type": "string"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "id",
              "message",
              "requested_schema",
              "actionType"
            ],
            "properties": {
              "actionType": {
                "type": "string",
                "enum": [
                  "elicitation"
                ]
              },
              "id": {
                "type": "string"
              },
              "message": {
                "type": "string"
              },
              "requested_schema": {}
            }
          },
          {
            "type": "object",
            "required": [
              "id",
              "user_data",
              "actionType"
            ],
            "properties": {
              "actionType": {
                "type": "string",
                "enum": [
                  "elicitationResponse"
                ]
              },
              "id": {
                "type": "string"
              },
              "user_data": {}
            }
          }
        ],
        "discriminator": {
          "propertyName": "actionType"
        }
      },
      "ActiveAgent": {
        "type": "object",
        "description": "A currently active or registered agent with its live status.",
        "required": [
          "name",
          "kind",
          "status",
          "modeCount",
          "currentTasks"
        ],
        "properties": {
          "currentTasks": {
            "type": "integer",
            "minimum": 0
          },
          "kind": {
            "$ref": "#/components/schemas/ActiveAgentKind"
          },
          "modeCount": {
            "type": "integer",
            "minimum": 0
          },
          "name": {
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/ActiveAgentStatus"
          }
        }
      },
      "ActiveAgentKind": {
        "type": "string",
        "enum": [
          "builtin",
          "a2a"
        ]
      },
      "ActiveAgentStatus": {
        "type": "string",
        "enum": [
          "idle",
          "working",
          "disabled",
          "disconnected"
        ]
      },
      "ActiveExtensionStat": {
        "type": "object",
        "required": [
          "extension",
          "session_count"
        ],
        "properties": {
          "extension": {
            "type": "string"
          },
          "session_count": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "AddExtensionRequest": {
        "type": "object",
        "required": [
          "session_id",
          "config"
        ],
        "properties": {
          "config": {
            "$ref": "#/components/schemas/ExtensionConfig"
          },
          "session_id": {
            "type": "string"
          }
        }
      },
      "AddOidcProviderRequest": {
        "type": "object",
        "required": [
          "issuer",
          "audience"
        ],
        "properties": {
          "audience": {
            "type": "string"
          },
          "client_secret": {
            "type": "string",
            "nullable": true
          },
          "group_claim": {
            "type": "string",
            "nullable": true
          },
          "issuer": {
            "type": "string"
          },
          "required_groups": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "tenant_claim": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "AgentCatalogResponse": {
        "type": "object",
        "required": [
          "agents",
          "total"
        ],
        "properties": {
          "agents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CatalogAgent"
            }
          },
          "total": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "AgentDelta": {
        "type": "object",
        "required": [
          "agent",
          "baselineAccuracy",
          "candidateAccuracy",
          "delta",
          "baselineCases",
          "candidateCases"
        ],
        "properties": {
          "agent": {
            "type": "string"
          },
          "baselineAccuracy": {
            "type": "number",
            "format": "double"
          },
          "baselineCases": {
            "type": "integer",
            "format": "int64"
          },
          "candidateAccuracy": {
            "type": "number",
            "format": "double"
          },
          "candidateCases": {
            "type": "integer",
            "format": "int64"
          },
          "delta": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "AgentDependency": {
        "type": "object",
        "description": "ACP AgentDependency (experimental) â€” a tool, agent, or model required by this agent.",
        "required": [
          "type",
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          }
        }
      },
      "AgentListResponse": {
        "type": "object",
        "required": [
          "agents"
        ],
        "properties": {
          "agents": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "AgentManifest": {
        "type": "object",
        "description": "ACP agent manifest per v0.2.0 spec.\n\nEach manifest represents one agent persona. Modes are listed in `modes`\nfollowing the ACP SessionMode pattern (not flattened into separate agents).",
        "required": [
          "name",
          "description"
        ],
        "properties": {
          "default_mode": {
            "type": "string",
            "description": "The default mode ID when no explicit mode is requested.",
            "nullable": true
          },
          "description": {
            "type": "string"
          },
          "input_content_types": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "metadata": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AgentMetadata"
              }
            ],
            "nullable": true
          },
          "modes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentModeInfo"
            },
            "description": "Session modes this agent supports (ACP SessionMode pattern).\nEach mode represents a different behavior/persona the agent can adopt\nwithin a session (e.g. \"assistant\", \"architect\", \"backend\")."
          },
          "name": {
            "type": "string"
          },
          "output_content_types": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AgentStatus"
              }
            ],
            "nullable": true
          }
        }
      },
      "AgentMetadata": {
        "type": "object",
        "description": "Metadata about an agent.",
        "properties": {
          "annotations": {
            "type": "object",
            "description": "ACP-REST Option B: discoverable annotations for roles and behavior modes.\nKeys follow the convention \"goose.<dimension>\" to avoid collisions.",
            "additionalProperties": {},
            "nullable": true
          },
          "author": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Person"
              }
            ],
            "nullable": true
          },
          "dependencies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentDependency"
            },
            "nullable": true
          },
          "links": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Link"
            },
            "nullable": true
          },
          "recommended_models": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "version": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "AgentModeInfo": {
        "type": "object",
        "description": "A mode an agent can operate in (maps to ACP SessionMode).",
        "required": [
          "id",
          "name"
        ],
        "properties": {
          "description": {
            "type": "string",
            "nullable": true
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "tool_groups": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Tool groups this mode has access to."
          }
        }
      },
      "AgentPerformanceMetrics": {
        "type": "object",
        "description": "Agent performance metrics extracted from session data",
        "required": [
          "sessions_by_provider",
          "avg_messages_per_session",
          "avg_tools_per_session",
          "avg_tokens_per_session",
          "session_duration_stats",
          "active_extensions"
        ],
        "properties": {
          "active_extensions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActiveExtensionStat"
            }
          },
          "avg_messages_per_session": {
            "type": "number",
            "format": "double"
          },
          "avg_tokens_per_session": {
            "type": "number",
            "format": "double"
          },
          "avg_tools_per_session": {
            "type": "number",
            "format": "double"
          },
          "session_duration_stats": {
            "$ref": "#/components/schemas/DurationStats"
          },
          "sessions_by_provider": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderSessionStat"
            }
          }
        }
      },
      "AgentResult": {
        "type": "object",
        "required": [
          "agent",
          "pass",
          "fail",
          "accuracy"
        ],
        "properties": {
          "accuracy": {
            "type": "number",
            "format": "double"
          },
          "agent": {
            "type": "string"
          },
          "fail": {
            "type": "integer",
            "format": "int64"
          },
          "pass": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "AgentStatus": {
        "type": "object",
        "description": "Runtime status metrics for an agent.",
        "properties": {
          "avg_run_time_seconds": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "avg_run_tokens": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "success_rate": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "AgentsListResponse": {
        "type": "object",
        "required": [
          "agents"
        ],
        "properties": {
          "agents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentManifest"
            }
          }
        }
      },
      "Annotations": {
        "type": "object",
        "properties": {
          "audience": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Role"
            }
          },
          "lastModified": {
            "type": "string",
            "format": "date-time"
          },
          "priority": {
            "type": "number"
          }
        }
      },
      "AuthStatusResponse": {
        "type": "object",
        "required": [
          "oidc_enabled",
          "provider_count",
          "issuers"
        ],
        "properties": {
          "issuers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "oidc_enabled": {
            "type": "boolean"
          },
          "provider_count": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "Author": {
        "type": "object",
        "properties": {
          "contact": {
            "type": "string",
            "nullable": true
          },
          "metadata": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "AuthorRequest": {
        "type": "object",
        "properties": {
          "contact": {
            "type": "string",
            "nullable": true
          },
          "metadata": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "AwaitRequest": {
        "type": "object",
        "description": "Generic await request â€” sent when run enters \"awaiting\" state.",
        "required": [
          "type"
        ],
        "properties": {
          "message": {
            "type": "string",
            "nullable": true
          },
          "metadata": {
            "nullable": true
          },
          "schema": {
            "nullable": true
          },
          "type": {
            "type": "string"
          }
        }
      },
      "AwaitResume": {
        "type": "object",
        "description": "Generic await resume â€” sent by client to resume an awaiting run.",
        "properties": {
          "data": {
            "nullable": true
          },
          "metadata": {
            "nullable": true
          }
        }
      },
      "BindExtensionRequest": {
        "type": "object",
        "required": [
          "extension_name"
        ],
        "properties": {
          "extension_name": {
            "type": "string"
          }
        }
      },
      "BuiltinAgentInfo": {
        "type": "object",
        "required": [
          "name",
          "description",
          "status",
          "modes",
          "default_mode",
          "enabled",
          "bound_extensions"
        ],
        "properties": {
          "bound_extensions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "default_mode": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "modes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BuiltinAgentMode"
            }
          },
          "name": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "BuiltinAgentMode": {
        "type": "object",
        "required": [
          "slug",
          "name",
          "description",
          "tool_groups",
          "recommended_extensions"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "recommended_extensions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "slug": {
            "type": "string"
          },
          "tool_groups": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "BuiltinAgentsResponse": {
        "type": "object",
        "required": [
          "agents"
        ],
        "properties": {
          "agents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BuiltinAgentInfo"
            }
          }
        }
      },
      "CallToolRequest": {
        "type": "object",
        "required": [
          "session_id",
          "name",
          "arguments"
        ],
        "properties": {
          "arguments": {},
          "name": {
            "type": "string"
          },
          "session_id": {
            "type": "string"
          }
        }
      },
      "CallToolResponse": {
        "type": "object",
        "required": [
          "content",
          "is_error"
        ],
        "properties": {
          "_meta": {
            "nullable": true
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Content"
            }
          },
          "is_error": {
            "type": "boolean"
          },
          "structured_content": {
            "nullable": true
          }
        }
      },
      "CatalogAgent": {
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "kind",
          "status",
          "modes",
          "default_mode",
          "capabilities"
        ],
        "properties": {
          "capabilities": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "default_mode": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "kind": {
            "$ref": "#/components/schemas/CatalogAgentKind"
          },
          "modes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CatalogAgentMode"
            }
          },
          "name": {
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/CatalogAgentStatus"
          },
          "url": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CatalogAgentKind": {
        "type": "string",
        "enum": [
          "builtin",
          "external",
          "a2a"
        ]
      },
      "CatalogAgentMode": {
        "type": "object",
        "required": [
          "slug",
          "name",
          "description",
          "tool_groups"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "tool_groups": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "CatalogAgentStatus": {
        "type": "string",
        "enum": [
          "active",
          "disabled",
          "connected",
          "unreachable"
        ]
      },
      "ChatRequest": {
        "type": "object",
        "required": [
          "user_message",
          "session_id"
        ],
        "properties": {
          "conversation_so_far": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Message"
            },
            "nullable": true
          },
          "mode": {
            "type": "string",
            "description": "Optional mode: \"plan\" returns a structured plan without executing,\n\"execute_plan\" executes a previously confirmed plan.\nNone or absent = normal reply flow.",
            "nullable": true
          },
          "plan": {
            "description": "The confirmed plan to execute (only used when mode = \"execute_plan\").",
            "nullable": true
          },
          "recipe_name": {
            "type": "string",
            "nullable": true
          },
          "recipe_version": {
            "type": "string",
            "nullable": true
          },
          "session_id": {
            "type": "string"
          },
          "user_message": {
            "$ref": "#/components/schemas/Message"
          }
        }
      },
      "CheckProviderRequest": {
        "type": "object",
        "required": [
          "provider"
        ],
        "properties": {
          "provider": {
            "type": "string"
          }
        }
      },
      "CommandType": {
        "type": "string",
        "enum": [
          "Builtin",
          "Recipe"
        ]
      },
      "ConfigKey": {
        "type": "object",
        "description": "Configuration key metadata for provider setup",
        "required": [
          "name",
          "required",
          "secret",
          "oauth_flow"
        ],
        "properties": {
          "default": {
            "type": "string",
            "description": "Optional default value for the key",
            "nullable": true
          },
          "name": {
            "type": "string",
            "description": "The name of the configuration key (e.g., \"API_KEY\")"
          },
          "oauth_flow": {
            "type": "boolean",
            "description": "Whether this key should be configured using OAuth device code flow\nWhen true, the provider's configure_oauth() method will be called instead of prompting for manual input"
          },
          "required": {
            "type": "boolean",
            "description": "Whether this key is required for the provider to function"
          },
          "secret": {
            "type": "boolean",
            "description": "Whether this key should be stored securely (e.g., in keychain)"
          }
        }
      },
      "ConfigKeyQuery": {
        "type": "object",
        "required": [
          "key",
          "is_secret"
        ],
        "properties": {
          "is_secret": {
            "type": "boolean"
          },
          "key": {
            "type": "string"
          }
        }
      },
      "ConfigResponse": {
        "type": "object",
        "required": [
          "config"
        ],
        "properties": {
          "config": {
            "type": "object",
            "additionalProperties": {}
          }
        }
      },
      "ConfirmToolActionRequest": {
        "type": "object",
        "required": [
          "id",
          "action",
          "sessionId"
        ],
        "properties": {
          "action": {
            "$ref": "#/components/schemas/Permission"
          },
          "id": {
            "type": "string"
          },
          "principalType": {
            "$ref": "#/components/schemas/PrincipalType"
          },
          "sessionId": {
            "type": "string"
          }
        }
      },
      "ConfusionMatrix": {
        "type": "object",
        "required": [
          "labels",
          "matrix"
        ],
        "properties": {
          "labels": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "matrix": {
            "type": "array",
            "items": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int64"
              }
            }
          }
        }
      },
      "ConnectAgentRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          }
        }
      },
      "ConnectAgentResponse": {
        "type": "object",
        "required": [
          "agent_id",
          "connected"
        ],
        "properties": {
          "agent_id": {
            "type": "string"
          },
          "connected": {
            "type": "boolean"
          }
        }
      },
      "Content": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/RawTextContent"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/RawImageContent"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/RawEmbeddedResource"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/RawAudioContent"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/RawResource"
              }
            ]
          }
        ]
      },
      "Conversation": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Message"
        }
      },
      "CorrelationInsight": {
        "type": "object",
        "required": [
          "versionChanged",
          "gooseVersionDelta",
          "versionTagDelta",
          "summary"
        ],
        "properties": {
          "gooseVersionDelta": {
            "type": "string"
          },
          "summary": {
            "type": "string"
          },
          "versionChanged": {
            "type": "boolean"
          },
          "versionTagDelta": {
            "type": "string"
          }
        }
      },
      "CreateDatasetRequest": {
        "type": "object",
        "required": [
          "name",
          "cases"
        ],
        "properties": {
          "cases": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateTestCaseRequest"
            }
          },
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "CreateRecipeRequest": {
        "type": "object",
        "required": [
          "session_id"
        ],
        "properties": {
          "author": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AuthorRequest"
              }
            ],
            "nullable": true
          },
          "session_id": {
            "type": "string"
          }
        }
      },
      "CreateRecipeResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "nullable": true
          },
          "recipe": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Recipe"
              }
            ],
            "nullable": true
          }
        }
      },
      "CreateScheduleRequest": {
        "type": "object",
        "required": [
          "id",
          "recipe",
          "cron"
        ],
        "properties": {
          "cron": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "recipe": {
            "$ref": "#/components/schemas/Recipe"
          }
        }
      },
      "CreateSessionRequest": {
        "type": "object",
        "properties": {
          "working_dir": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CreateSessionResponse": {
        "type": "object",
        "required": [
          "session_id"
        ],
        "properties": {
          "session_id": {
            "type": "string"
          }
        }
      },
      "CreateTestCaseRequest": {
        "type": "object",
        "required": [
          "input",
          "expectedAgent",
          "expectedMode"
        ],
        "properties": {
          "expectedAgent": {
            "type": "string"
          },
          "expectedMode": {
            "type": "string"
          },
          "input": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "CspMetadata": {
        "type": "object",
        "description": "Content Security Policy metadata for MCP Apps\nSpecifies allowed domains for network connections and resource loading",
        "properties": {
          "connectDomains": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Domains allowed for connect-src (fetch, XHR, WebSocket)",
            "nullable": true
          },
          "resourceDomains": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Domains allowed for resource loading (scripts, styles, images, fonts, media)",
            "nullable": true
          }
        }
      },
      "DailyActivity": {
        "type": "object",
        "required": [
          "date",
          "sessions",
          "messages",
          "inputTokens",
          "outputTokens",
          "totalTokens"
        ],
        "properties": {
          "date": {
            "type": "string"
          },
          "inputTokens": {
            "type": "integer",
            "format": "int64"
          },
          "messages": {
            "type": "integer",
            "format": "int64"
          },
          "outputTokens": {
            "type": "integer",
            "format": "int64"
          },
          "sessions": {
            "type": "integer",
            "format": "int64"
          },
          "totalTokens": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "DailyQuality": {
        "type": "object",
        "required": [
          "date",
          "sessions",
          "avg_duration_secs",
          "avg_messages",
          "retry_rate",
          "error_rate"
        ],
        "properties": {
          "avg_duration_secs": {
            "type": "number",
            "format": "double"
          },
          "avg_messages": {
            "type": "number",
            "format": "double"
          },
          "date": {
            "type": "string"
          },
          "error_rate": {
            "type": "number",
            "format": "double"
          },
          "retry_rate": {
            "type": "number",
            "format": "double"
          },
          "sessions": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "DailyToolActivity": {
        "type": "object",
        "description": "Daily tool activity",
        "required": [
          "date",
          "tool_calls",
          "tool_errors",
          "unique_tools"
        ],
        "properties": {
          "date": {
            "type": "string"
          },
          "tool_calls": {
            "type": "integer",
            "format": "int64"
          },
          "tool_errors": {
            "type": "integer",
            "format": "int64"
          },
          "unique_tools": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "DeclarativeProviderConfig": {
        "type": "object",
        "required": [
          "name",
          "engine",
          "display_name",
          "base_url",
          "models"
        ],
        "properties": {
          "api_key_env": {
            "type": "string"
          },
          "base_url": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "display_name": {
            "type": "string"
          },
          "engine": {
            "$ref": "#/components/schemas/ProviderEngine"
          },
          "headers": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "nullable": true
          },
          "models": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ModelInfo"
            }
          },
          "name": {
            "type": "string"
          },
          "requires_auth": {
            "type": "boolean"
          },
          "supports_streaming": {
            "type": "boolean",
            "nullable": true
          },
          "timeout_seconds": {
            "type": "integer",
            "format": "int64",
            "nullable": true,
            "minimum": 0
          }
        }
      },
      "DecodeRecipeRequest": {
        "type": "object",
        "required": [
          "deeplink"
        ],
        "properties": {
          "deeplink": {
            "type": "string"
          }
        }
      },
      "DecodeRecipeResponse": {
        "type": "object",
        "required": [
          "recipe"
        ],
        "properties": {
          "recipe": {
            "$ref": "#/components/schemas/Recipe"
          }
        }
      },
      "DeleteRecipeRequest": {
        "type": "object",
        "required": [
          "id"
        ],
        "properties": {
          "id": {
            "type": "string"
          }
        }
      },
      "DetectProviderRequest": {
        "type": "object",
        "required": [
          "api_key"
        ],
        "properties": {
          "api_key": {
            "type": "string"
          }
        }
      },
      "DetectProviderResponse": {
        "type": "object",
        "required": [
          "provider_name",
          "models"
        ],
        "properties": {
          "models": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "provider_name": {
            "type": "string"
          }
        }
      },
      "DictationProvider": {
        "type": "string",
        "enum": [
          "openai",
          "elevenlabs",
          "groq",
          "local"
        ]
      },
      "DictationProviderStatus": {
        "type": "object",
        "required": [
          "configured",
          "description",
          "uses_provider_config"
        ],
        "properties": {
          "config_key": {
            "type": "string",
            "description": "Config key name if uses_provider_config is false",
            "nullable": true
          },
          "configured": {
            "type": "boolean",
            "description": "Whether the provider is fully configured and ready to use"
          },
          "description": {
            "type": "string",
            "description": "Description of what this provider does"
          },
          "host": {
            "type": "string",
            "description": "Custom host URL if configured (only for providers that support it)",
            "nullable": true
          },
          "settings_path": {
            "type": "string",
            "description": "Path to settings if uses_provider_config is true",
            "nullable": true
          },
          "uses_provider_config": {
            "type": "boolean",
            "description": "Whether this provider uses the main provider config (true) or has its own key (false)"
          }
        }
      },
      "DirectoryUsage": {
        "type": "object",
        "required": [
          "directory",
          "sessions"
        ],
        "properties": {
          "directory": {
            "type": "string"
          },
          "sessions": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "DownloadProgress": {
        "type": "object",
        "required": [
          "model_id",
          "status",
          "bytes_downloaded",
          "total_bytes",
          "progress_percent"
        ],
        "properties": {
          "bytes_downloaded": {
            "type": "integer",
            "format": "int64",
            "description": "Bytes downloaded so far",
            "minimum": 0
          },
          "error": {
            "type": "string",
            "description": "Error message if failed",
            "nullable": true
          },
          "eta_seconds": {
            "type": "integer",
            "format": "int64",
            "description": "Estimated time remaining in seconds",
            "nullable": true,
            "minimum": 0
          },
          "model_id": {
            "type": "string",
            "description": "Model ID being downloaded"
          },
          "progress_percent": {
            "type": "number",
            "format": "float",
            "description": "Download progress percentage (0-100)"
          },
          "speed_bps": {
            "type": "integer",
            "format": "int64",
            "description": "Download speed in bytes per second",
            "nullable": true,
            "minimum": 0
          },
          "status": {
            "$ref": "#/components/schemas/DownloadStatus"
          },
          "total_bytes": {
            "type": "integer",
            "format": "int64",
            "description": "Total bytes to download",
            "minimum": 0
          }
        }
      },
      "DownloadStatus": {
        "type": "string",
        "enum": [
          "downloading",
          "completed",
          "failed",
          "cancelled"
        ]
      },
      "DurationStats": {
        "type": "object",
        "required": [
          "avg_seconds",
          "median_seconds",
          "p90_seconds"
        ],
        "properties": {
          "avg_seconds": {
            "type": "number",
            "format": "double"
          },
          "median_seconds": {
            "type": "number",
            "format": "double"
          },
          "p90_seconds": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "EmbeddedResource": {
        "type": "object",
        "required": [
          "resource"
        ],
        "properties": {
          "_meta": {
            "type": "object",
            "additionalProperties": true
          },
          "annotations": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Annotations"
              },
              {
                "type": "object"
              }
            ]
          },
          "resource": {
            "$ref": "#/components/schemas/ResourceContents"
          }
        }
      },
      "EncodeRecipeRequest": {
        "type": "object",
        "required": [
          "recipe"
        ],
        "properties": {
          "recipe": {
            "$ref": "#/components/schemas/Recipe"
          }
        }
      },
      "EncodeRecipeResponse": {
        "type": "object",
        "required": [
          "deeplink"
        ],
        "properties": {
          "deeplink": {
            "type": "string"
          }
        }
      },
      "Envs": {
        "type": "object",
        "additionalProperties": {
          "type": "string",
          "description": "A map of environment variables to set, e.g. API_KEY -> some_secret, HOST -> host"
        }
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          }
        }
      },
      "EvalDataset": {
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "tags",
          "cases",
          "createdAt",
          "updatedAt"
        ],
        "properties": {
          "cases": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EvalTestCase"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "EvalDatasetSummary": {
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "tags",
          "caseCount",
          "createdAt",
          "updatedAt"
        ],
        "properties": {
          "caseCount": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "lastRunAccuracy": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "lastRunAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "EvalOverview": {
        "type": "object",
        "required": [
          "overallAccuracy",
          "agentAccuracy",
          "modeAccuracy",
          "totalTestCases",
          "totalRuns",
          "lastRunStatus",
          "accuracyDelta",
          "agentAccuracyDelta",
          "modeAccuracyDelta",
          "accuracyTrend",
          "perAgentAccuracy",
          "regressions"
        ],
        "properties": {
          "accuracyDelta": {
            "type": "number",
            "format": "double"
          },
          "accuracyTrend": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AccuracyTrendPoint"
            }
          },
          "agentAccuracy": {
            "type": "number",
            "format": "double"
          },
          "agentAccuracyDelta": {
            "type": "number",
            "format": "double"
          },
          "lastRunAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "lastRunStatus": {
            "type": "string"
          },
          "modeAccuracy": {
            "type": "number",
            "format": "double"
          },
          "modeAccuracyDelta": {
            "type": "number",
            "format": "double"
          },
          "overallAccuracy": {
            "type": "number",
            "format": "double"
          },
          "perAgentAccuracy": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentResult"
            }
          },
          "regressions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RegressionAlert"
            }
          },
          "totalRuns": {
            "type": "integer",
            "format": "int64"
          },
          "totalTestCases": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "EvalRunDetail": {
        "type": "object",
        "required": [
          "id",
          "datasetId",
          "datasetName",
          "versionTag",
          "gooseVersion",
          "startedAt",
          "durationMs",
          "totalCases",
          "correct",
          "agentCorrect",
          "overallAccuracy",
          "agentAccuracy",
          "modeAccuracy",
          "status",
          "perAgent",
          "failures",
          "confusionMatrix"
        ],
        "properties": {
          "agentAccuracy": {
            "type": "number",
            "format": "double"
          },
          "agentCorrect": {
            "type": "integer",
            "format": "int64"
          },
          "confusionMatrix": {
            "$ref": "#/components/schemas/ConfusionMatrix"
          },
          "correct": {
            "type": "integer",
            "format": "int64"
          },
          "datasetId": {
            "type": "string"
          },
          "datasetName": {
            "type": "string"
          },
          "durationMs": {
            "type": "integer",
            "format": "int64"
          },
          "failures": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FailureDetail"
            }
          },
          "gooseVersion": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "modeAccuracy": {
            "type": "number",
            "format": "double"
          },
          "overallAccuracy": {
            "type": "number",
            "format": "double"
          },
          "perAgent": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentResult"
            }
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string"
          },
          "totalCases": {
            "type": "integer",
            "format": "int64"
          },
          "versionTag": {
            "type": "string"
          }
        }
      },
      "EvalRunSummary": {
        "type": "object",
        "required": [
          "id",
          "datasetId",
          "datasetName",
          "versionTag",
          "gooseVersion",
          "startedAt",
          "durationMs",
          "totalCases",
          "correct",
          "overallAccuracy",
          "agentAccuracy",
          "modeAccuracy",
          "status"
        ],
        "properties": {
          "agentAccuracy": {
            "type": "number",
            "format": "double"
          },
          "correct": {
            "type": "integer",
            "format": "int64"
          },
          "datasetId": {
            "type": "string"
          },
          "datasetName": {
            "type": "string"
          },
          "durationMs": {
            "type": "integer",
            "format": "int64"
          },
          "gooseVersion": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "modeAccuracy": {
            "type": "number",
            "format": "double"
          },
          "overallAccuracy": {
            "type": "number",
            "format": "double"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string"
          },
          "totalCases": {
            "type": "integer",
            "format": "int64"
          },
          "versionTag": {
            "type": "string"
          }
        }
      },
      "EvalTestCase": {
        "type": "object",
        "required": [
          "id",
          "input",
          "expectedAgent",
          "expectedMode",
          "tags"
        ],
        "properties": {
          "expectedAgent": {
            "type": "string"
          },
          "expectedMode": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "input": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ExtensionConfig": {
        "oneOf": [
          {
            "type": "object",
            "description": "SSE transport is no longer supported - kept only for config file compatibility",
            "required": [
              "name",
              "description",
              "type"
            ],
            "properties": {
              "description": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "sse"
                ]
              },
              "uri": {
                "type": "string",
                "nullable": true
              }
            }
          },
          {
            "type": "object",
            "description": "Standard I/O client with command and arguments",
            "required": [
              "name",
              "description",
              "cmd",
              "args",
              "type"
            ],
            "properties": {
              "args": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "available_tools": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "bundled": {
                "type": "boolean",
                "nullable": true
              },
              "cmd": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "env_keys": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "envs": {
                "$ref": "#/components/schemas/Envs"
              },
              "name": {
                "type": "string",
                "description": "The name used to identify this extension"
              },
              "timeout": {
                "type": "integer",
                "format": "int64",
                "nullable": true,
                "minimum": 0
              },
              "type": {
                "type": "string",
                "enum": [
                  "stdio"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Built-in extension that is part of the bundled goose MCP server",
            "required": [
              "name",
              "description",
              "type"
            ],
            "properties": {
              "available_tools": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "bundled": {
                "type": "boolean",
                "nullable": true
              },
              "description": {
                "type": "string"
              },
              "display_name": {
                "type": "string",
                "nullable": true
              },
              "name": {
                "type": "string",
                "description": "The name used to identify this extension"
              },
              "timeout": {
                "type": "integer",
                "format": "int64",
                "nullable": true,
                "minimum": 0
              },
              "type": {
                "type": "string",
                "enum": [
                  "builtin"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Platform extensions that have direct access to the agent etc and run in the agent process",
            "required": [
              "name",
              "description",
              "type"
            ],
            "properties": {
              "available_tools": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "bundled": {
                "type": "boolean",
                "nullable": true
              },
              "description": {
                "type": "string"
              },
              "display_name": {
                "type": "string",
                "nullable": true
              },
              "name": {
                "type": "string",
                "description": "The name used to identify this extension"
              },
              "type": {
                "type": "string",
                "enum": [
                  "platform"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Streamable HTTP client with a URI endpoint using MCP Streamable HTTP specification",
            "required": [
              "name",
              "description",
              "uri",
              "type"
            ],
            "properties": {
              "available_tools": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "bundled": {
                "type": "boolean",
                "nullable": true
              },
              "description": {
                "type": "string"
              },
              "env_keys": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "envs": {
                "$ref": "#/components/schemas/Envs"
              },
              "headers": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                }
              },
              "name": {
                "type": "string",
                "description": "The name used to identify this extension"
              },
              "timeout": {
                "type": "integer",
                "format": "int64",
                "nullable": true,
                "minimum": 0
              },
              "type": {
                "type": "string",
                "enum": [
                  "streamable_http"
                ]
              },
              "uri": {
                "type": "string"
              }
            }
          },
          {
            "type": "object",
            "description": "Frontend-provided tools that will be called through the frontend",
            "required": [
              "name",
              "description",
              "tools",
              "type"
            ],
            "properties": {
              "available_tools": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "bundled": {
                "type": "boolean",
                "nullable": true
              },
              "description": {
                "type": "string"
              },
              "instructions": {
                "type": "string",
                "description": "Instructions for how to use these tools",
                "nullable": true
              },
              "name": {
                "type": "string",
                "description": "The name used to identify this extension"
              },
              "tools": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Tool"
                },
                "description": "The tools provided by the frontend"
              },
              "type": {
                "type": "string",
                "enum": [
                  "frontend"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Inline Python code that will be executed using uvx",
            "required": [
              "name",
              "description",
              "code",
              "type"
            ],
            "properties": {
              "available_tools": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "code": {
                "type": "string",
                "description": "The Python code to execute"
              },
              "dependencies": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Python package dependencies required by this extension",
                "nullable": true
              },
              "description": {
                "type": "string"
              },
              "name": {
                "type": "string",
                "description": "The name used to identify this extension"
              },
              "timeout": {
                "type": "integer",
                "format": "int64",
                "description": "Timeout in seconds",
                "nullable": true,
                "minimum": 0
              },
              "type": {
                "type": "string",
                "enum": [
                  "inline_python"
                ]
              }
            }
          }
        ],
        "description": "Represents the different types of MCP extensions that can be added to the manager",
        "discriminator": {
          "propertyName": "type"
        }
      },
      "ExtensionData": {
        "type": "object",
        "description": "Extension data containing all extension states\nKeys are in format \"extension_name.version\" (e.g., \"todo.v0\")",
        "additionalProperties": {}
      },
      "ExtensionEntry": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ExtensionConfig"
          },
          {
            "type": "object",
            "required": [
              "enabled"
            ],
            "properties": {
              "enabled": {
                "type": "boolean"
              }
            }
          }
        ]
      },
      "ExtensionLoadResult": {
        "type": "object",
        "required": [
          "name",
          "success"
        ],
        "properties": {
          "error": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "ExtensionQuery": {
        "type": "object",
        "required": [
          "name",
          "config",
          "enabled"
        ],
        "properties": {
          "config": {
            "$ref": "#/components/schemas/ExtensionConfig"
          },
          "enabled": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "ExtensionResponse": {
        "type": "object",
        "required": [
          "extensions"
        ],
        "properties": {
          "extensions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtensionEntry"
            }
          },
          "warnings": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ExtensionUsageStat": {
        "type": "object",
        "description": "Per-extension usage statistics",
        "required": [
          "extension",
          "tool_count",
          "total_calls",
          "total_errors",
          "success_rate"
        ],
        "properties": {
          "extension": {
            "type": "string"
          },
          "success_rate": {
            "type": "number",
            "format": "double"
          },
          "tool_count": {
            "type": "integer",
            "format": "int64"
          },
          "total_calls": {
            "type": "integer",
            "format": "int64"
          },
          "total_errors": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "FailureDetail": {
        "type": "object",
        "required": [
          "input",
          "expectedAgent",
          "expectedMode",
          "actualAgent",
          "actualMode",
          "confidence",
          "tags"
        ],
        "properties": {
          "actualAgent": {
            "type": "string"
          },
          "actualMode": {
            "type": "string"
          },
          "confidence": {
            "type": "number",
            "format": "float"
          },
          "expectedAgent": {
            "type": "string"
          },
          "expectedMode": {
            "type": "string"
          },
          "input": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "FixedCase": {
        "type": "object",
        "required": [
          "input",
          "agent",
          "mode"
        ],
        "properties": {
          "agent": {
            "type": "string"
          },
          "input": {
            "type": "string"
          },
          "mode": {
            "type": "string"
          }
        }
      },
      "ForkRequest": {
        "type": "object",
        "required": [
          "truncate",
          "copy"
        ],
        "properties": {
          "copy": {
            "type": "boolean"
          },
          "timestamp": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "truncate": {
            "type": "boolean"
          }
        }
      },
      "ForkResponse": {
        "type": "object",
        "required": [
          "sessionId"
        ],
        "properties": {
          "sessionId": {
            "type": "string"
          }
        }
      },
      "FrontendToolRequest": {
        "type": "object",
        "required": [
          "id",
          "toolCall"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "toolCall": {
            "type": "object"
          }
        }
      },
      "GetPromptRequest": {
        "type": "object",
        "required": [
          "session_id",
          "name"
        ],
        "properties": {
          "arguments": {},
          "name": {
            "type": "string"
          },
          "session_id": {
            "type": "string"
          }
        }
      },
      "GetPromptResponse": {
        "type": "object",
        "required": [
          "messages"
        ],
        "properties": {
          "description": {
            "type": "string",
            "nullable": true
          },
          "messages": {
            "type": "array",
            "items": {}
          }
        }
      },
      "GetPromptsQuery": {
        "type": "object",
        "required": [
          "session_id"
        ],
        "properties": {
          "session_id": {
            "type": "string"
          }
        }
      },
      "GetToolsQuery": {
        "type": "object",
        "required": [
          "session_id"
        ],
        "properties": {
          "extension_name": {
            "type": "string",
            "nullable": true
          },
          "session_id": {
            "type": "string"
          }
        }
      },
      "GooseApp": {
        "allOf": [
          {
            "$ref": "#/components/schemas/McpAppResource"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/WindowProps"
              }
            ],
            "nullable": true
          },
          {
            "type": "object",
            "properties": {
              "mcpServers": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "prd": {
                "type": "string",
                "nullable": true
              }
            }
          }
        ]
      },
      "HealthStatus": {
        "type": "string",
        "enum": [
          "HEALTHY",
          "DEGRADED",
          "UNHEALTHY"
        ]
      },
      "HotTool": {
        "type": "object",
        "required": [
          "tool_name",
          "calls_1h",
          "errors_1h"
        ],
        "properties": {
          "calls_1h": {
            "type": "integer",
            "format": "int32"
          },
          "errors_1h": {
            "type": "integer",
            "format": "int32"
          },
          "tool_name": {
            "type": "string"
          }
        }
      },
      "Icon": {
        "type": "object",
        "required": [
          "src"
        ],
        "properties": {
          "mimeType": {
            "type": "string"
          },
          "sizes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "src": {
            "type": "string"
          }
        }
      },
      "ImageContent": {
        "type": "object",
        "required": [
          "data",
          "mimeType"
        ],
        "properties": {
          "_meta": {
            "type": "object",
            "additionalProperties": true
          },
          "annotations": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Annotations"
              },
              {
                "type": "object"
              }
            ]
          },
          "data": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          }
        }
      },
      "ImportAppRequest": {
        "type": "object",
        "required": [
          "html"
        ],
        "properties": {
          "html": {
            "type": "string"
          }
        }
      },
      "ImportAppResponse": {
        "type": "object",
        "required": [
          "name",
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "ImportSessionRequest": {
        "type": "object",
        "required": [
          "json"
        ],
        "properties": {
          "json": {
            "type": "string"
          }
        }
      },
      "InspectJobResponse": {
        "type": "object",
        "properties": {
          "processStartTime": {
            "type": "string",
            "nullable": true
          },
          "runningDurationSeconds": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "sessionId": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "InstanceResponse": {
        "type": "object",
        "description": "Response for instance creation and status queries.",
        "required": [
          "id",
          "persona",
          "status",
          "turns",
          "provider_name",
          "model_name",
          "elapsed_secs",
          "last_activity_ms"
        ],
        "properties": {
          "elapsed_secs": {
            "type": "number",
            "format": "double"
          },
          "id": {
            "type": "string"
          },
          "last_activity_ms": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "model_name": {
            "type": "string"
          },
          "persona": {
            "type": "string"
          },
          "provider_name": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "turns": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          }
        }
      },
      "InstanceResultResponse": {
        "type": "object",
        "description": "Response for instance results.",
        "required": [
          "id",
          "persona",
          "status",
          "turns_taken",
          "duration_secs"
        ],
        "properties": {
          "duration_secs": {
            "type": "number",
            "format": "double"
          },
          "error": {
            "type": "string",
            "nullable": true
          },
          "id": {
            "type": "string"
          },
          "output": {
            "type": "string",
            "nullable": true
          },
          "persona": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "turns_taken": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          }
        }
      },
      "JsonObject": {
        "type": "object",
        "additionalProperties": true
      },
      "KillJobResponse": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          }
        }
      },
      "Link": {
        "type": "object",
        "description": "A link reference.",
        "required": [
          "url"
        ],
        "properties": {
          "title": {
            "type": "string",
            "nullable": true
          },
          "url": {
            "type": "string"
          }
        }
      },
      "ListAppsRequest": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ListAppsResponse": {
        "type": "object",
        "required": [
          "apps"
        ],
        "properties": {
          "apps": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GooseApp"
            }
          }
        }
      },
      "ListRecipeResponse": {
        "type": "object",
        "required": [
          "manifests"
        ],
        "properties": {
          "manifests": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RecipeManifest"
            }
          }
        }
      },
      "ListSchedulesResponse": {
        "type": "object",
        "required": [
          "jobs"
        ],
        "properties": {
          "jobs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScheduledJob"
            }
          }
        }
      },
      "LiveExtensionInfo": {
        "type": "object",
        "description": "Summary of a live MCP extension connection",
        "required": [
          "name",
          "connected"
        ],
        "properties": {
          "connected": {
            "type": "boolean",
            "description": "Whether the MCP connection is active"
          },
          "name": {
            "type": "string",
            "description": "Extension name (e.g. \"developer\", \"memory\", \"fetch\")"
          }
        }
      },
      "LiveExtensionsResponse": {
        "type": "object",
        "description": "Response for listing live extensions",
        "required": [
          "extensions",
          "count"
        ],
        "properties": {
          "count": {
            "type": "integer",
            "description": "Total count",
            "minimum": 0
          },
          "extensions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LiveExtensionInfo"
            },
            "description": "List of active extensions"
          }
        }
      },
      "LiveMetrics": {
        "type": "object",
        "description": "Live monitoring metrics â€” recent activity snapshot",
        "required": [
          "active_sessions_1h",
          "active_sessions_24h",
          "tool_calls_1h",
          "tool_errors_1h",
          "tool_calls_24h",
          "tool_errors_24h",
          "success_rate_1h",
          "messages_1h",
          "hot_tools",
          "recent_errors",
          "activity_timeline"
        ],
        "properties": {
          "active_sessions_1h": {
            "type": "integer",
            "format": "int32",
            "description": "Active sessions in the last hour"
          },
          "active_sessions_24h": {
            "type": "integer",
            "format": "int32",
            "description": "Active sessions in the last 24 hours"
          },
          "activity_timeline": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MinuteActivity"
            },
            "description": "Per-minute activity for the last 60 minutes"
          },
          "hot_tools": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/HotTool"
            },
            "description": "Most active tools in the last hour"
          },
          "messages_1h": {
            "type": "integer",
            "format": "int32",
            "description": "Messages processed in the last hour"
          },
          "recent_errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RecentError"
            },
            "description": "Recent errors (last 10)"
          },
          "success_rate_1h": {
            "type": "number",
            "format": "double",
            "description": "Success rate in the last hour (0.0-1.0)"
          },
          "tool_calls_1h": {
            "type": "integer",
            "format": "int32",
            "description": "Tool calls in the last hour"
          },
          "tool_calls_24h": {
            "type": "integer",
            "format": "int32",
            "description": "Tool calls in the last 24 hours"
          },
          "tool_errors_1h": {
            "type": "integer",
            "format": "int32",
            "description": "Tool errors in the last hour"
          },
          "tool_errors_24h": {
            "type": "integer",
            "format": "int32",
            "description": "Tool errors in the last 24 hours"
          }
        }
      },
      "LoadedProvider": {
        "type": "object",
        "required": [
          "config",
          "is_editable"
        ],
        "properties": {
          "config": {
            "$ref": "#/components/schemas/DeclarativeProviderConfig"
          },
          "is_editable": {
            "type": "boolean"
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "properties": {
          "api_key": {
            "type": "string",
            "description": "API key for authentication",
            "nullable": true
          },
          "display_name": {
            "type": "string",
            "description": "Display name (optional, for guest upgrade)",
            "nullable": true
          }
        }
      },
      "LoginResponse": {
        "type": "object",
        "required": [
          "token",
          "token_type",
          "expires_in",
          "user"
        ],
        "properties": {
          "expires_in": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/UserInfoResponse"
          }
        }
      },
      "LogoutResponse": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "McpAppResource": {
        "type": "object",
        "description": "MCP App Resource\nRepresents a UI resource that can be rendered in an MCP App",
        "required": [
          "uri",
          "name",
          "mimeType"
        ],
        "properties": {
          "_meta": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ResourceMetadata"
              }
            ],
            "nullable": true
          },
          "blob": {
            "type": "string",
            "description": "Base64-encoded binary content (alternative to text)",
            "nullable": true
          },
          "description": {
            "type": "string",
            "description": "Optional description of what this resource does",
            "nullable": true
          },
          "mimeType": {
            "type": "string",
            "description": "MIME type (should be \"text/html;profile=mcp-app\" for MCP Apps)"
          },
          "name": {
            "type": "string",
            "description": "Human-readable name of the resource"
          },
          "text": {
            "type": "string",
            "description": "Text content of the resource (HTML for MCP Apps)",
            "nullable": true
          },
          "uri": {
            "type": "string",
            "description": "URI of the resource (must use ui:// scheme)"
          }
        }
      },
      "Message": {
        "type": "object",
        "description": "A message to or from an LLM",
        "required": [
          "role",
          "created",
          "content",
          "metadata"
        ],
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MessageContent"
            }
          },
          "created": {
            "type": "integer",
            "format": "int64"
          },
          "id": {
            "type": "string",
            "nullable": true
          },
          "metadata": {
            "$ref": "#/components/schemas/MessageMetadata"
          },
          "role": {
            "$ref": "#/components/schemas/Role"
          }
        }
      },
      "MessageContent": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/TextContent"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "text"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageContent"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "image"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ToolRequest"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "toolRequest"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ToolResponse"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "toolResponse"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ToolConfirmationRequest"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "toolConfirmationRequest"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ActionRequired"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "actionRequired"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/FrontendToolRequest"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "frontendToolRequest"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ThinkingContent"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "thinking"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/RedactedThinkingContent"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "redactedThinking"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/SystemNotificationContent"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "systemNotification"
                    ]
                  }
                }
              }
            ]
          }
        ],
        "description": "Content passed inside a message, which can be both simple content and tool content",
        "discriminator": {
          "propertyName": "type"
        }
      },
      "MessageEvent": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "message",
              "token_state",
              "type"
            ],
            "properties": {
              "message": {
                "$ref": "#/components/schemas/Message"
              },
              "token_state": {
                "$ref": "#/components/schemas/TokenState"
              },
              "type": {
                "type": "string",
                "enum": [
                  "Message"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "error",
              "type"
            ],
            "properties": {
              "error": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "Error"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "reason",
              "token_state",
              "type"
            ],
            "properties": {
              "reason": {
                "type": "string"
              },
              "token_state": {
                "$ref": "#/components/schemas/TokenState"
              },
              "type": {
                "type": "string",
                "enum": [
                  "Finish"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "model",
              "mode",
              "type"
            ],
            "properties": {
              "mode": {
                "type": "string"
              },
              "model": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "ModelChange"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "agent_name",
              "mode_slug",
              "confidence",
              "reasoning",
              "type"
            ],
            "properties": {
              "agent_name": {
                "type": "string"
              },
              "confidence": {
                "type": "number",
                "format": "float"
              },
              "mode_slug": {
                "type": "string"
              },
              "reasoning": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "RoutingDecision"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "request_id",
              "message",
              "type"
            ],
            "properties": {
              "message": {
                "type": "object"
              },
              "request_id": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "Notification"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "conversation",
              "type"
            ],
            "properties": {
              "conversation": {
                "$ref": "#/components/schemas/Conversation"
              },
              "type": {
                "type": "string",
                "enum": [
                  "UpdateConversation"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "previous_count",
              "current_count",
              "type"
            ],
            "properties": {
              "current_count": {
                "type": "integer",
                "minimum": 0
              },
              "previous_count": {
                "type": "integer",
                "minimum": 0
              },
              "type": {
                "type": "string",
                "enum": [
                  "ToolAvailabilityChange"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "is_compound",
              "tasks",
              "type"
            ],
            "properties": {
              "clarifying_questions": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "nullable": true
              },
              "is_compound": {
                "type": "boolean"
              },
              "tasks": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/PlanTask"
                }
              },
              "type": {
                "type": "string",
                "enum": [
                  "PlanProposal"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "Ping"
                ]
              }
            }
          }
        ],
        "discriminator": {
          "propertyName": "type"
        }
      },
      "MessageMetadata": {
        "type": "object",
        "description": "Metadata for message visibility",
        "required": [
          "userVisible",
          "agentVisible"
        ],
        "properties": {
          "agentVisible": {
            "type": "boolean",
            "description": "Whether the message should be included in the agent's context window"
          },
          "routingInfo": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RoutingInfo"
              }
            ],
            "nullable": true
          },
          "userVisible": {
            "type": "boolean",
            "description": "Whether the message should be visible to the user in the UI"
          }
        }
      },
      "MinuteActivity": {
        "type": "object",
        "required": [
          "minute",
          "tool_calls",
          "messages"
        ],
        "properties": {
          "messages": {
            "type": "integer",
            "format": "int32"
          },
          "minute": {
            "type": "string"
          },
          "tool_calls": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ModelConfig": {
        "type": "object",
        "required": [
          "model_name",
          "toolshim"
        ],
        "properties": {
          "context_limit": {
            "type": "integer",
            "nullable": true,
            "minimum": 0
          },
          "fast_model": {
            "type": "string",
            "nullable": true
          },
          "max_tokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "model_name": {
            "type": "string"
          },
          "request_params": {
            "type": "object",
            "description": "Provider-specific request parameters (e.g., anthropic_beta headers)",
            "additionalProperties": {},
            "nullable": true
          },
          "temperature": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "toolshim": {
            "type": "boolean"
          },
          "toolshim_model": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ModelInfo": {
        "type": "object",
        "description": "Information about a model's capabilities",
        "required": [
          "name",
          "context_limit"
        ],
        "properties": {
          "context_limit": {
            "type": "integer",
            "description": "The maximum context length this model supports",
            "minimum": 0
          },
          "currency": {
            "type": "string",
            "description": "Currency for the costs (default: \"$\")",
            "nullable": true
          },
          "input_token_cost": {
            "type": "number",
            "format": "double",
            "description": "Cost per token for input in USD (optional)",
            "nullable": true
          },
          "name": {
            "type": "string",
            "description": "The name of the model"
          },
          "output_token_cost": {
            "type": "number",
            "format": "double",
            "description": "Cost per token for output in USD (optional)",
            "nullable": true
          },
          "supports_cache_control": {
            "type": "boolean",
            "description": "Whether this model supports cache control",
            "nullable": true
          }
        }
      },
      "NodeKind": {
        "type": "string",
        "enum": [
          "trigger",
          "agent",
          "tool",
          "condition",
          "transform",
          "human",
          "a2a"
        ]
      },
      "NodePosition": {
        "type": "object",
        "required": [
          "x",
          "y"
        ],
        "properties": {
          "x": {
            "type": "number",
            "format": "double"
          },
          "y": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "ObservatoryDashboard": {
        "type": "object",
        "description": "Unified Observatory dashboard â€” system health + active agents + performance snapshot.",
        "required": [
          "health",
          "activeAgents",
          "performance"
        ],
        "properties": {
          "activeAgents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActiveAgent"
            }
          },
          "health": {
            "$ref": "#/components/schemas/SystemHealth"
          },
          "performance": {
            "$ref": "#/components/schemas/PerformanceSnapshot"
          }
        }
      },
      "OidcAuthUrlRequest": {
        "type": "object",
        "required": [
          "issuer",
          "redirect_uri"
        ],
        "properties": {
          "issuer": {
            "type": "string",
            "description": "OIDC provider issuer (e.g. \"https://accounts.google.com\")"
          },
          "redirect_uri": {
            "type": "string",
            "description": "Redirect URI for the callback (e.g. \"http://localhost:PORT/callback\")"
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Optional scopes (defaults to \"openid profile email\")",
            "nullable": true
          }
        }
      },
      "OidcAuthUrlResponse": {
        "type": "object",
        "required": [
          "auth_url",
          "state",
          "nonce"
        ],
        "properties": {
          "auth_url": {
            "type": "string",
            "description": "The full authorization URL to redirect the user to"
          },
          "nonce": {
            "type": "string",
            "description": "The nonce parameter (for replay protection)"
          },
          "state": {
            "type": "string",
            "description": "The state parameter (for CSRF protection)"
          }
        }
      },
      "OidcCodeExchangeRequest": {
        "type": "object",
        "required": [
          "issuer",
          "code",
          "redirect_uri"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "The authorization code from the OIDC callback"
          },
          "issuer": {
            "type": "string",
            "description": "OIDC provider issuer (e.g. \"https://accounts.google.com\")"
          },
          "redirect_uri": {
            "type": "string",
            "description": "The redirect URI used in the original authorization request"
          }
        }
      },
      "OidcCodeExchangeResponse": {
        "type": "object",
        "required": [
          "token",
          "token_type",
          "expires_in",
          "user"
        ],
        "properties": {
          "expires_in": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/UserInfoResponse"
          }
        }
      },
      "OidcLoginRequest": {
        "type": "object",
        "required": [
          "id_token"
        ],
        "properties": {
          "id_token": {
            "type": "string",
            "description": "The raw ID token from the OIDC provider (obtained via authorization code flow)"
          }
        }
      },
      "OidcLoginResponse": {
        "type": "object",
        "required": [
          "token",
          "token_type",
          "expires_in",
          "user"
        ],
        "properties": {
          "expires_in": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/UserInfoResponse"
          }
        }
      },
      "OidcProviderInfo": {
        "type": "object",
        "required": [
          "issuer",
          "audience",
          "required_groups"
        ],
        "properties": {
          "audience": {
            "type": "string"
          },
          "group_claim": {
            "type": "string",
            "nullable": true
          },
          "issuer": {
            "type": "string"
          },
          "required_groups": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "tenant_claim": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "OidcProvidersResponse": {
        "type": "object",
        "required": [
          "providers"
        ],
        "properties": {
          "providers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OidcProviderInfo"
            }
          }
        }
      },
      "OrchestratorAgentInfo": {
        "type": "object",
        "required": [
          "name",
          "enabled",
          "mode_count",
          "default_mode"
        ],
        "properties": {
          "default_mode": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "mode_count": {
            "type": "integer",
            "minimum": 0
          },
          "name": {
            "type": "string"
          }
        }
      },
      "OrchestratorStatus": {
        "type": "object",
        "required": [
          "enabled",
          "routing_mode",
          "agents",
          "total_modes"
        ],
        "properties": {
          "agents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrchestratorAgentInfo"
            }
          },
          "enabled": {
            "type": "boolean"
          },
          "routing_mode": {
            "type": "string"
          },
          "total_modes": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "ParseRecipeRequest": {
        "type": "object",
        "required": [
          "content"
        ],
        "properties": {
          "content": {
            "type": "string"
          }
        }
      },
      "ParseRecipeResponse": {
        "type": "object",
        "required": [
          "recipe"
        ],
        "properties": {
          "recipe": {
            "$ref": "#/components/schemas/Recipe"
          }
        }
      },
      "PerformanceSnapshot": {
        "type": "object",
        "description": "Aggregated performance snapshot for the dashboard.",
        "required": [
          "totalSessions24h",
          "totalToolCalls24h",
          "toolErrorRate24h",
          "avgMessagesPerSession",
          "topTools"
        ],
        "properties": {
          "avgMessagesPerSession": {
            "type": "number",
            "format": "double"
          },
          "toolErrorRate24h": {
            "type": "number",
            "format": "double"
          },
          "topTools": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TopTool"
            }
          },
          "totalSessions24h": {
            "type": "integer",
            "format": "int32"
          },
          "totalToolCalls24h": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "Permission": {
        "type": "string",
        "enum": [
          "always_allow",
          "allow_once",
          "cancel",
          "deny_once",
          "always_deny"
        ]
      },
      "PermissionLevel": {
        "type": "string",
        "description": "Enum representing the possible permission levels for a tool.",
        "enum": [
          "always_allow",
          "ask_before",
          "never_allow"
        ]
      },
      "PermissionsMetadata": {
        "type": "object",
        "description": "Sandbox permissions for MCP Apps\nSpecifies which browser capabilities the UI needs access to.\nMaps to the iframe Permission Policy `allow` attribute.",
        "properties": {
          "camera": {
            "type": "boolean",
            "description": "Request camera access (maps to Permission Policy `camera` feature)"
          },
          "clipboardWrite": {
            "type": "boolean",
            "description": "Request clipboard write access (maps to Permission Policy `clipboard-write` feature)"
          },
          "geolocation": {
            "type": "boolean",
            "description": "Request geolocation access (maps to Permission Policy `geolocation` feature)"
          },
          "microphone": {
            "type": "boolean",
            "description": "Request microphone access (maps to Permission Policy `microphone` feature)"
          }
        }
      },
      "Person": {
        "type": "object",
        "description": "A person reference.",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "url": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "PersonaSummary": {
        "type": "object",
        "description": "Summary for the /a2a/agents listing endpoint.",
        "required": [
          "slug",
          "name",
          "description",
          "skills_count"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "skills_count": {
            "type": "integer",
            "minimum": 0
          },
          "slug": {
            "type": "string"
          }
        }
      },
      "Pipeline": {
        "type": "object",
        "required": [
          "name",
          "nodes"
        ],
        "properties": {
          "api_version": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "edges": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PipelineEdge"
            }
          },
          "kind": {
            "type": "string"
          },
          "layout": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PipelineLayout"
              }
            ],
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "nodes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PipelineNode"
            }
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "version": {
            "type": "string"
          }
        }
      },
      "PipelineEdge": {
        "type": "object",
        "required": [
          "source",
          "target"
        ],
        "properties": {
          "condition": {
            "type": "string",
            "nullable": true
          },
          "label": {
            "type": "string",
            "nullable": true
          },
          "source": {
            "type": "string"
          },
          "target": {
            "type": "string"
          }
        }
      },
      "PipelineLayout": {
        "type": "object",
        "properties": {
          "viewport": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Viewport"
              }
            ],
            "nullable": true
          }
        }
      },
      "PipelineManifest": {
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "version",
          "tags",
          "node_count",
          "edge_count",
          "file_path",
          "last_modified"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "edge_count": {
            "type": "integer",
            "minimum": 0
          },
          "file_path": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "last_modified": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "node_count": {
            "type": "integer",
            "minimum": 0
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "version": {
            "type": "string"
          }
        }
      },
      "PipelineNode": {
        "type": "object",
        "required": [
          "id",
          "kind",
          "label"
        ],
        "properties": {
          "condition": {
            "type": "string",
            "nullable": true
          },
          "config": {
            "type": "object",
            "additionalProperties": {}
          },
          "id": {
            "type": "string"
          },
          "kind": {
            "$ref": "#/components/schemas/NodeKind"
          },
          "label": {
            "type": "string"
          },
          "position": {
            "allOf": [
              {
                "$ref": "#/components/schemas/NodePosition"
              }
            ],
            "nullable": true
          }
        }
      },
      "PlanTask": {
        "type": "object",
        "description": "A task within a plan proposal, serializable for SSE transport.",
        "required": [
          "agent_name",
          "mode_slug",
          "mode_name",
          "confidence",
          "reasoning",
          "description",
          "tool_groups"
        ],
        "properties": {
          "agent_name": {
            "type": "string"
          },
          "confidence": {
            "type": "number",
            "format": "float"
          },
          "description": {
            "type": "string"
          },
          "mode_name": {
            "type": "string"
          },
          "mode_slug": {
            "type": "string"
          },
          "reasoning": {
            "type": "string"
          },
          "tool_groups": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "PricingData": {
        "type": "object",
        "required": [
          "provider",
          "model",
          "input_token_cost",
          "output_token_cost",
          "currency"
        ],
        "properties": {
          "context_length": {
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "minimum": 0
          },
          "currency": {
            "type": "string"
          },
          "input_token_cost": {
            "type": "number",
            "format": "double"
          },
          "model": {
            "type": "string"
          },
          "output_token_cost": {
            "type": "number",
            "format": "double"
          },
          "provider": {
            "type": "string"
          }
        }
      },
      "PricingQuery": {
        "type": "object",
        "required": [
          "provider",
          "model"
        ],
        "properties": {
          "model": {
            "type": "string"
          },
          "provider": {
            "type": "string"
          }
        }
      },
      "PricingResponse": {
        "type": "object",
        "required": [
          "pricing",
          "source"
        ],
        "properties": {
          "pricing": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PricingData"
            }
          },
          "source": {
            "type": "string"
          }
        }
      },
      "PrincipalType": {
        "type": "string",
        "enum": [
          "Extension",
          "Tool"
        ]
      },
      "Prompt": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "_meta": {
            "type": "object",
            "additionalProperties": true
          },
          "arguments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PromptArgument"
            }
          },
          "description": {
            "type": "string"
          },
          "icons": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Icon"
            }
          },
          "name": {
            "type": "string"
          },
          "title": {
            "type": "string"
          }
        }
      },
      "PromptAgentRequest": {
        "type": "object",
        "required": [
          "session_id",
          "text"
        ],
        "properties": {
          "session_id": {
            "type": "string"
          },
          "text": {
            "type": "string"
          }
        }
      },
      "PromptAgentResponse": {
        "type": "object",
        "required": [
          "text"
        ],
        "properties": {
          "text": {
            "type": "string"
          }
        }
      },
      "PromptArgument": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "required": {
            "type": "boolean"
          },
          "title": {
            "type": "string"
          }
        }
      },
      "PromptContentResponse": {
        "type": "object",
        "required": [
          "name",
          "content",
          "default_content",
          "is_customized"
        ],
        "properties": {
          "content": {
            "type": "string"
          },
          "default_content": {
            "type": "string"
          },
          "is_customized": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "PromptsListResponse": {
        "type": "object",
        "required": [
          "prompts"
        ],
        "properties": {
          "prompts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Template"
            }
          }
        }
      },
      "ProviderDetails": {
        "type": "object",
        "required": [
          "name",
          "metadata",
          "is_configured",
          "provider_type"
        ],
        "properties": {
          "is_configured": {
            "type": "boolean"
          },
          "metadata": {
            "$ref": "#/components/schemas/ProviderMetadata"
          },
          "name": {
            "type": "string"
          },
          "provider_type": {
            "$ref": "#/components/schemas/ProviderType"
          }
        }
      },
      "ProviderEngine": {
        "type": "string",
        "enum": [
          "openai",
          "ollama",
          "anthropic"
        ]
      },
      "ProviderMetadata": {
        "type": "object",
        "description": "Metadata about a provider's configuration requirements and capabilities",
        "required": [
          "name",
          "display_name",
          "description",
          "default_model",
          "known_models",
          "model_doc_link",
          "config_keys"
        ],
        "properties": {
          "allows_unlisted_models": {
            "type": "boolean",
            "description": "Whether this provider allows entering model names not in the fetched list"
          },
          "config_keys": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConfigKey"
            },
            "description": "Required configuration keys"
          },
          "default_model": {
            "type": "string",
            "description": "The default/recommended model for this provider"
          },
          "description": {
            "type": "string",
            "description": "Description of the provider's capabilities"
          },
          "display_name": {
            "type": "string",
            "description": "Display name for the provider in UIs"
          },
          "known_models": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ModelInfo"
            },
            "description": "A list of currently known models with their capabilities"
          },
          "model_doc_link": {
            "type": "string",
            "description": "Link to the docs where models can be found"
          },
          "name": {
            "type": "string",
            "description": "The unique identifier for this provider"
          }
        }
      },
      "ProviderQuality": {
        "type": "object",
        "required": [
          "provider",
          "sessions",
          "avg_duration_secs",
          "avg_messages",
          "avg_tokens",
          "retry_rate",
          "error_rate"
        ],
        "properties": {
          "avg_duration_secs": {
            "type": "number",
            "format": "double"
          },
          "avg_messages": {
            "type": "number",
            "format": "double"
          },
          "avg_tokens": {
            "type": "number",
            "format": "double"
          },
          "error_rate": {
            "type": "number",
            "format": "double"
          },
          "provider": {
            "type": "string"
          },
          "retry_rate": {
            "type": "number",
            "format": "double"
          },
          "sessions": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ProviderSessionStat": {
        "type": "object",
        "required": [
          "provider",
          "session_count",
          "avg_tokens",
          "avg_messages"
        ],
        "properties": {
          "avg_messages": {
            "type": "number",
            "format": "double"
          },
          "avg_tokens": {
            "type": "number",
            "format": "double"
          },
          "provider": {
            "type": "string"
          },
          "session_count": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ProviderType": {
        "type": "string",
        "enum": [
          "Preferred",
          "Builtin",
          "Declarative",
          "Custom"
        ]
      },
      "ProviderUsage": {
        "type": "object",
        "required": [
          "provider",
          "sessions",
          "totalTokens"
        ],
        "properties": {
          "provider": {
            "type": "string"
          },
          "sessions": {
            "type": "integer",
            "format": "int64"
          },
          "totalTokens": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ProvidersResponse": {
        "type": "object",
        "required": [
          "providers"
        ],
        "properties": {
          "providers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderDetails"
            }
          }
        }
      },
      "RawAudioContent": {
        "type": "object",
        "required": [
          "data",
          "mimeType"
        ],
        "properties": {
          "data": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          }
        }
      },
      "RawEmbeddedResource": {
        "type": "object",
        "required": [
          "resource"
        ],
        "properties": {
          "_meta": {
            "type": "object",
            "additionalProperties": true
          },
          "resource": {
            "$ref": "#/components/schemas/ResourceContents"
          }
        }
      },
      "RawImageContent": {
        "type": "object",
        "required": [
          "data",
          "mimeType"
        ],
        "properties": {
          "_meta": {
            "type": "object",
            "additionalProperties": true
          },
          "data": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          }
        }
      },
      "RawResource": {
        "type": "object",
        "required": [
          "uri",
          "name"
        ],
        "properties": {
          "_meta": {
            "type": "object",
            "additionalProperties": true
          },
          "description": {
            "type": "string"
          },
          "icons": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Icon"
            }
          },
          "mimeType": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "size": {
            "type": "integer",
            "minimum": 0
          },
          "title": {
            "type": "string"
          },
          "uri": {
            "type": "string"
          }
        }
      },
      "RawTextContent": {
        "type": "object",
        "required": [
          "text"
        ],
        "properties": {
          "_meta": {
            "type": "object",
            "additionalProperties": true
          },
          "text": {
            "type": "string"
          }
        }
      },
      "ReadResourceRequest": {
        "type": "object",
        "required": [
          "session_id",
          "extension_name",
          "uri"
        ],
        "properties": {
          "extension_name": {
            "type": "string"
          },
          "session_id": {
            "type": "string"
          },
          "uri": {
            "type": "string"
          }
        }
      },
      "ReadResourceResponse": {
        "type": "object",
        "required": [
          "uri",
          "text"
        ],
        "properties": {
          "_meta": {
            "type": "object",
            "additionalProperties": {},
            "nullable": true
          },
          "mimeType": {
            "type": "string",
            "nullable": true
          },
          "text": {
            "type": "string"
          },
          "uri": {
            "type": "string"
          }
        }
      },
      "RecentError": {
        "type": "object",
        "required": [
          "tool_name",
          "session_id",
          "timestamp"
        ],
        "properties": {
          "session_id": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          },
          "tool_name": {
            "type": "string"
          }
        }
      },
      "Recipe": {
        "type": "object",
        "required": [
          "title",
          "description"
        ],
        "properties": {
          "activities": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "author": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Author"
              }
            ],
            "nullable": true
          },
          "description": {
            "type": "string"
          },
          "extensions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtensionConfig"
            },
            "nullable": true
          },
          "instructions": {
            "type": "string",
            "nullable": true
          },
          "parameters": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RecipeParameter"
            },
            "nullable": true
          },
          "prompt": {
            "type": "string",
            "nullable": true
          },
          "response": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Response"
              }
            ],
            "nullable": true
          },
          "retry": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RetryConfig"
              }
            ],
            "nullable": true
          },
          "settings": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Settings"
              }
            ],
            "nullable": true
          },
          "sub_recipes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SubRecipe"
            },
            "nullable": true
          },
          "title": {
            "type": "string"
          },
          "version": {
            "type": "string"
          }
        }
      },
      "RecipeManifest": {
        "type": "object",
        "required": [
          "id",
          "recipe",
          "file_path",
          "last_modified"
        ],
        "properties": {
          "file_path": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "last_modified": {
            "type": "string"
          },
          "recipe": {
            "$ref": "#/components/schemas/Recipe"
          },
          "schedule_cron": {
            "type": "string",
            "nullable": true
          },
          "slash_command": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "RecipeParameter": {
        "type": "object",
        "required": [
          "key",
          "input_type",
          "requirement",
          "description"
        ],
        "properties": {
          "default": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string"
          },
          "input_type": {
            "$ref": "#/components/schemas/RecipeParameterInputType"
          },
          "key": {
            "type": "string"
          },
          "options": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "requirement": {
            "$ref": "#/components/schemas/RecipeParameterRequirement"
          }
        }
      },
      "RecipeParameterInputType": {
        "type": "string",
        "enum": [
          "string",
          "number",
          "boolean",
          "date",
          "file",
          "select"
        ]
      },
      "RecipeParameterRequirement": {
        "type": "string",
        "enum": [
          "required",
          "optional",
          "user_prompt"
        ]
      },
      "RecipeToYamlRequest": {
        "type": "object",
        "required": [
          "recipe"
        ],
        "properties": {
          "recipe": {
            "$ref": "#/components/schemas/Recipe"
          }
        }
      },
      "RecipeToYamlResponse": {
        "type": "object",
        "required": [
          "yaml"
        ],
        "properties": {
          "yaml": {
            "type": "string"
          }
        }
      },
      "RedactedThinkingContent": {
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "string"
          }
        }
      },
      "RefreshRequest": {
        "type": "object",
        "required": [
          "token"
        ],
        "properties": {
          "token": {
            "type": "string"
          }
        }
      },
      "RefreshResponse": {
        "type": "object",
        "required": [
          "token",
          "token_type",
          "expires_in"
        ],
        "properties": {
          "expires_in": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          }
        }
      },
      "RegressionAlert": {
        "type": "object",
        "required": [
          "description",
          "severity",
          "runId",
          "versionTag",
          "delta"
        ],
        "properties": {
          "delta": {
            "type": "number",
            "format": "double"
          },
          "description": {
            "type": "string"
          },
          "runId": {
            "type": "string"
          },
          "severity": {
            "type": "string"
          },
          "versionTag": {
            "type": "string"
          }
        }
      },
      "RemoveExtensionRequest": {
        "type": "object",
        "required": [
          "name",
          "session_id"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "session_id": {
            "type": "string"
          }
        }
      },
      "RemoveOidcProviderRequest": {
        "type": "object",
        "required": [
          "issuer"
        ],
        "properties": {
          "issuer": {
            "type": "string"
          }
        }
      },
      "ResourceContents": {
        "anyOf": [
          {
            "type": "object",
            "required": [
              "uri",
              "text"
            ],
            "properties": {
              "_meta": {
                "type": "object",
                "additionalProperties": true
              },
              "mimeType": {
                "type": "string"
              },
              "text": {
                "type": "string"
              },
              "uri": {
                "type": "string"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "uri",
              "blob"
            ],
            "properties": {
              "_meta": {
                "type": "object",
                "additionalProperties": true
              },
              "blob": {
                "type": "string"
              },
              "mimeType": {
                "type": "string"
              },
              "uri": {
                "type": "string"
              }
            }
          }
        ]
      },
      "ResourceMetadata": {
        "type": "object",
        "description": "Resource metadata containing UI configuration",
        "properties": {
          "ui": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UiMetadata"
              }
            ],
            "nullable": true
          }
        }
      },
      "Response": {
        "type": "object",
        "properties": {
          "json_schema": {
            "nullable": true
          }
        }
      },
      "ResponseQualityMetrics": {
        "type": "object",
        "description": "Response quality proxy metrics derived from session/message patterns",
        "required": [
          "total_sessions",
          "avg_session_duration_secs",
          "avg_messages_per_session",
          "avg_user_messages_per_session",
          "retry_rate",
          "avg_tool_errors_per_session",
          "avg_tokens_per_session",
          "completion_rate",
          "sessions_with_errors",
          "daily_quality",
          "quality_by_provider"
        ],
        "properties": {
          "avg_messages_per_session": {
            "type": "number",
            "format": "double"
          },
          "avg_session_duration_secs": {
            "type": "number",
            "format": "double"
          },
          "avg_tokens_per_session": {
            "type": "number",
            "format": "double"
          },
          "avg_tool_errors_per_session": {
            "type": "number",
            "format": "double"
          },
          "avg_user_messages_per_session": {
            "type": "number",
            "format": "double"
          },
          "completion_rate": {
            "type": "number",
            "format": "double"
          },
          "daily_quality": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DailyQuality"
            }
          },
          "quality_by_provider": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderQuality"
            }
          },
          "retry_rate": {
            "type": "number",
            "format": "double"
          },
          "sessions_with_errors": {
            "type": "integer",
            "format": "int64"
          },
          "total_sessions": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "RestartAgentRequest": {
        "type": "object",
        "required": [
          "session_id"
        ],
        "properties": {
          "session_id": {
            "type": "string"
          }
        }
      },
      "RestartAgentResponse": {
        "type": "object",
        "required": [
          "extension_results"
        ],
        "properties": {
          "extension_results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtensionLoadResult"
            }
          }
        }
      },
      "ResumeAgentRequest": {
        "type": "object",
        "required": [
          "session_id",
          "load_model_and_extensions"
        ],
        "properties": {
          "load_model_and_extensions": {
            "type": "boolean"
          },
          "session_id": {
            "type": "string"
          }
        }
      },
      "ResumeAgentResponse": {
        "type": "object",
        "required": [
          "session"
        ],
        "properties": {
          "extension_results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtensionLoadResult"
            },
            "nullable": true
          },
          "session": {
            "$ref": "#/components/schemas/Session"
          }
        }
      },
      "RetryConfig": {
        "type": "object",
        "description": "Configuration for retry logic in recipe execution",
        "required": [
          "max_retries",
          "checks"
        ],
        "properties": {
          "checks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SuccessCheck"
            },
            "description": "List of success checks to validate recipe completion"
          },
          "max_retries": {
            "type": "integer",
            "format": "int32",
            "description": "Maximum number of retry attempts before giving up",
            "minimum": 0
          },
          "on_failure": {
            "type": "string",
            "description": "Optional shell command to run on failure for cleanup",
            "nullable": true
          },
          "on_failure_timeout_seconds": {
            "type": "integer",
            "format": "int64",
            "description": "Timeout in seconds for on_failure commands (default: 600 seconds)",
            "nullable": true,
            "minimum": 0
          },
          "timeout_seconds": {
            "type": "integer",
            "format": "int64",
            "description": "Timeout in seconds for individual shell commands (default: 300 seconds)",
            "nullable": true,
            "minimum": 0
          }
        }
      },
      "Role": {
        "oneOf": [
          {
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "RoutingInfo": {
        "type": "object",
        "required": [
          "agentName",
          "modeSlug"
        ],
        "properties": {
          "agentName": {
            "type": "string"
          },
          "modeSlug": {
            "type": "string"
          }
        }
      },
      "RunComparison": {
        "type": "object",
        "required": [
          "baseline",
          "candidate",
          "overallDelta",
          "agentDelta",
          "modeDelta",
          "newFailures",
          "fixedCases",
          "perAgentDelta",
          "correlation"
        ],
        "properties": {
          "agentDelta": {
            "type": "number",
            "format": "double"
          },
          "baseline": {
            "$ref": "#/components/schemas/RunComparisonSide"
          },
          "candidate": {
            "$ref": "#/components/schemas/RunComparisonSide"
          },
          "correlation": {
            "$ref": "#/components/schemas/CorrelationInsight"
          },
          "fixedCases": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FixedCase"
            }
          },
          "modeDelta": {
            "type": "number",
            "format": "double"
          },
          "newFailures": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FailureDetail"
            }
          },
          "overallDelta": {
            "type": "number",
            "format": "double"
          },
          "perAgentDelta": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentDelta"
            }
          }
        }
      },
      "RunComparisonSide": {
        "type": "object",
        "required": [
          "runId",
          "versionTag",
          "gooseVersion",
          "datasetName",
          "startedAt",
          "overallAccuracy",
          "agentAccuracy",
          "modeAccuracy",
          "totalCases",
          "correct"
        ],
        "properties": {
          "agentAccuracy": {
            "type": "number",
            "format": "double"
          },
          "correct": {
            "type": "integer",
            "format": "int64"
          },
          "datasetName": {
            "type": "string"
          },
          "gooseVersion": {
            "type": "string"
          },
          "modeAccuracy": {
            "type": "number",
            "format": "double"
          },
          "overallAccuracy": {
            "type": "number",
            "format": "double"
          },
          "runId": {
            "type": "string"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "totalCases": {
            "type": "integer",
            "format": "int64"
          },
          "versionTag": {
            "type": "string"
          }
        }
      },
      "RunCreateRequest": {
        "type": "object",
        "description": "Request payload for creating a new run.",
        "required": [
          "agent_name",
          "input"
        ],
        "properties": {
          "agent_name": {
            "type": "string"
          },
          "input": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AcpMessage"
            }
          },
          "metadata": {
            "nullable": true
          },
          "mode": {
            "$ref": "#/components/schemas/RunMode"
          },
          "session_id": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "RunEvalRequest": {
        "type": "object",
        "required": [
          "datasetId"
        ],
        "properties": {
          "datasetId": {
            "type": "string"
          },
          "versionTag": {
            "type": "string"
          }
        }
      },
      "RunMode": {
        "type": "string",
        "description": "Run mode per ACP v0.2.0 spec.",
        "enum": [
          "sync",
          "async",
          "stream"
        ]
      },
      "RunNowResponse": {
        "type": "object",
        "required": [
          "session_id"
        ],
        "properties": {
          "session_id": {
            "type": "string"
          }
        }
      },
      "RunResumeRequest": {
        "type": "object",
        "description": "Request payload for resuming an awaiting run.",
        "required": [
          "run_id",
          "await_resume",
          "mode"
        ],
        "properties": {
          "await_resume": {
            "$ref": "#/components/schemas/AwaitResume"
          },
          "mode": {
            "$ref": "#/components/schemas/RunMode"
          },
          "run_id": {
            "type": "string"
          }
        }
      },
      "SavePipelineRequest": {
        "type": "object",
        "required": [
          "pipeline"
        ],
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "pipeline": {
            "$ref": "#/components/schemas/Pipeline"
          }
        }
      },
      "SavePipelineResponse": {
        "type": "object",
        "required": [
          "id",
          "file_path"
        ],
        "properties": {
          "file_path": {
            "type": "string"
          },
          "id": {
            "type": "string"
          }
        }
      },
      "SavePromptRequest": {
        "type": "object",
        "required": [
          "content"
        ],
        "properties": {
          "content": {
            "type": "string"
          }
        }
      },
      "SaveRecipeRequest": {
        "type": "object",
        "required": [
          "recipe"
        ],
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "recipe": {
            "$ref": "#/components/schemas/Recipe"
          }
        }
      },
      "SaveRecipeResponse": {
        "type": "object",
        "required": [
          "id"
        ],
        "properties": {
          "id": {
            "type": "string"
          }
        }
      },
      "ScanRecipeRequest": {
        "type": "object",
        "required": [
          "recipe"
        ],
        "properties": {
          "recipe": {
            "$ref": "#/components/schemas/Recipe"
          }
        }
      },
      "ScanRecipeResponse": {
        "type": "object",
        "required": [
          "has_security_warnings"
        ],
        "properties": {
          "has_security_warnings": {
            "type": "boolean"
          }
        }
      },
      "ScheduleRecipeRequest": {
        "type": "object",
        "required": [
          "id"
        ],
        "properties": {
          "cron_schedule": {
            "type": "string",
            "nullable": true
          },
          "id": {
            "type": "string"
          }
        }
      },
      "ScheduledJob": {
        "type": "object",
        "required": [
          "id",
          "source",
          "cron"
        ],
        "properties": {
          "cron": {
            "type": "string"
          },
          "current_session_id": {
            "type": "string",
            "nullable": true
          },
          "currently_running": {
            "type": "boolean"
          },
          "id": {
            "type": "string"
          },
          "last_run": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "paused": {
            "type": "boolean"
          },
          "process_start_time": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "source": {
            "type": "string"
          }
        }
      },
      "Session": {
        "type": "object",
        "required": [
          "id",
          "working_dir",
          "name",
          "created_at",
          "updated_at",
          "extension_data",
          "message_count"
        ],
        "properties": {
          "accumulated_input_tokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "accumulated_output_tokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "accumulated_total_tokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "conversation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Conversation"
              }
            ],
            "nullable": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "extension_data": {
            "$ref": "#/components/schemas/ExtensionData"
          },
          "id": {
            "type": "string"
          },
          "input_tokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "message_count": {
            "type": "integer",
            "minimum": 0
          },
          "model_config": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ModelConfig"
              }
            ],
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "output_tokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "provider_name": {
            "type": "string",
            "nullable": true
          },
          "recipe": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Recipe"
              }
            ],
            "nullable": true
          },
          "schedule_id": {
            "type": "string",
            "nullable": true
          },
          "session_type": {
            "$ref": "#/components/schemas/SessionType"
          },
          "total_tokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "user_recipe_values": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "nullable": true
          },
          "user_set_name": {
            "type": "boolean"
          },
          "working_dir": {
            "type": "string"
          }
        }
      },
      "SessionAnalytics": {
        "type": "object",
        "required": [
          "totalSessions",
          "totalTokens",
          "totalInputTokens",
          "totalOutputTokens",
          "totalMessages",
          "activeDays",
          "avgTokensPerSession",
          "avgMessagesPerSession",
          "dailyActivity",
          "providerUsage",
          "topDirectories"
        ],
        "properties": {
          "activeDays": {
            "type": "integer",
            "format": "int64"
          },
          "avgMessagesPerSession": {
            "type": "number",
            "format": "double"
          },
          "avgTokensPerSession": {
            "type": "number",
            "format": "double"
          },
          "dailyActivity": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DailyActivity"
            }
          },
          "providerUsage": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderUsage"
            }
          },
          "topDirectories": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DirectoryUsage"
            }
          },
          "totalInputTokens": {
            "type": "integer",
            "format": "int64"
          },
          "totalMessages": {
            "type": "integer",
            "format": "int64"
          },
          "totalOutputTokens": {
            "type": "integer",
            "format": "int64"
          },
          "totalSessions": {
            "type": "integer",
            "format": "int64"
          },
          "totalTokens": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "SessionDisplayInfo": {
        "type": "object",
        "required": [
          "id",
          "name",
          "createdAt",
          "workingDir",
          "messageCount"
        ],
        "properties": {
          "accumulatedInputTokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "accumulatedOutputTokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "accumulatedTotalTokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "inputTokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "messageCount": {
            "type": "integer",
            "minimum": 0
          },
          "name": {
            "type": "string"
          },
          "outputTokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "scheduleId": {
            "type": "string",
            "nullable": true
          },
          "totalTokens": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "workingDir": {
            "type": "string"
          }
        }
      },
      "SessionExtensionsResponse": {
        "type": "object",
        "required": [
          "extensions"
        ],
        "properties": {
          "extensions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtensionConfig"
            }
          }
        }
      },
      "SessionInsights": {
        "type": "object",
        "required": [
          "totalSessions",
          "totalTokens"
        ],
        "properties": {
          "totalSessions": {
            "type": "integer",
            "minimum": 0
          },
          "totalTokens": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "SessionListResponse": {
        "type": "object",
        "required": [
          "sessions"
        ],
        "properties": {
          "sessions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Session"
            },
            "description": "List of available session information objects"
          }
        }
      },
      "SessionToolSummary": {
        "type": "object",
        "description": "Tool summary for a specific session",
        "required": [
          "session_id",
          "session_name",
          "tool_calls",
          "tool_errors",
          "unique_tools",
          "most_used_tool",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string"
          },
          "most_used_tool": {
            "type": "string"
          },
          "session_id": {
            "type": "string"
          },
          "session_name": {
            "type": "string"
          },
          "tool_calls": {
            "type": "integer",
            "format": "int64"
          },
          "tool_errors": {
            "type": "integer",
            "format": "int64"
          },
          "unique_tools": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "SessionType": {
        "type": "string",
        "enum": [
          "user",
          "scheduled",
          "specialist",
          "hidden",
          "terminal"
        ]
      },
      "SessionsQuery": {
        "type": "object",
        "required": [
          "limit"
        ],
        "properties": {
          "limit": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "SetModeAgentRequest": {
        "type": "object",
        "required": [
          "session_id",
          "mode_id"
        ],
        "properties": {
          "mode_id": {
            "type": "string"
          },
          "session_id": {
            "type": "string"
          }
        }
      },
      "SetProviderRequest": {
        "type": "object",
        "required": [
          "provider",
          "model"
        ],
        "properties": {
          "model": {
            "type": "string"
          },
          "provider": {
            "type": "string"
          }
        }
      },
      "SetSlashCommandRequest": {
        "type": "object",
        "required": [
          "id"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "slash_command": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "Settings": {
        "type": "object",
        "properties": {
          "goose_model": {
            "type": "string",
            "nullable": true
          },
          "goose_provider": {
            "type": "string",
            "nullable": true
          },
          "max_turns": {
            "type": "integer",
            "nullable": true,
            "minimum": 0
          },
          "temperature": {
            "type": "number",
            "format": "float",
            "nullable": true
          }
        }
      },
      "SetupResponse": {
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "SlashCommand": {
        "type": "object",
        "required": [
          "command",
          "help",
          "command_type"
        ],
        "properties": {
          "command": {
            "type": "string"
          },
          "command_type": {
            "$ref": "#/components/schemas/CommandType"
          },
          "help": {
            "type": "string"
          }
        }
      },
      "SlashCommandsResponse": {
        "type": "object",
        "required": [
          "commands"
        ],
        "properties": {
          "commands": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SlashCommand"
            }
          }
        }
      },
      "SpawnInstanceRequest": {
        "type": "object",
        "description": "Request body for POST /a2a/instances",
        "required": [
          "persona"
        ],
        "properties": {
          "instructions": {
            "type": "string",
            "nullable": true
          },
          "max_turns": {
            "type": "integer",
            "nullable": true,
            "minimum": 0
          },
          "model": {
            "type": "string",
            "nullable": true
          },
          "persona": {
            "type": "string"
          },
          "provider": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "StartAgentRequest": {
        "type": "object",
        "required": [
          "working_dir"
        ],
        "properties": {
          "extension_overrides": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtensionConfig"
            },
            "nullable": true
          },
          "recipe": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Recipe"
              }
            ],
            "nullable": true
          },
          "recipe_deeplink": {
            "type": "string",
            "nullable": true
          },
          "recipe_id": {
            "type": "string",
            "nullable": true
          },
          "working_dir": {
            "type": "string"
          }
        }
      },
      "StopAgentRequest": {
        "type": "object",
        "required": [
          "session_id"
        ],
        "properties": {
          "session_id": {
            "type": "string"
          }
        }
      },
      "SubRecipe": {
        "type": "object",
        "required": [
          "name",
          "path"
        ],
        "properties": {
          "description": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "sequential_when_repeated": {
            "type": "boolean"
          },
          "values": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "nullable": true
          }
        }
      },
      "SuccessCheck": {
        "oneOf": [
          {
            "type": "object",
            "description": "Execute a shell command and check its exit status",
            "required": [
              "command",
              "type"
            ],
            "properties": {
              "command": {
                "type": "string",
                "description": "The shell command to execute"
              },
              "type": {
                "type": "string",
                "enum": [
                  "Shell"
                ]
              }
            }
          }
        ],
        "description": "A single success check to validate recipe completion",
        "discriminator": {
          "propertyName": "type"
        }
      },
      "SystemHealth": {
        "type": "object",
        "description": "System health indicators.",
        "required": [
          "status",
          "activeSessions",
          "uptimeSeconds",
          "registeredAgents",
          "enabledAgents",
          "poolInstances"
        ],
        "properties": {
          "activeSessions": {
            "type": "integer",
            "format": "int32"
          },
          "enabledAgents": {
            "type": "integer",
            "minimum": 0
          },
          "poolInstances": {
            "type": "integer",
            "minimum": 0
          },
          "registeredAgents": {
            "type": "integer",
            "minimum": 0
          },
          "status": {
            "$ref": "#/components/schemas/HealthStatus"
          },
          "uptimeSeconds": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "SystemInfo": {
        "type": "object",
        "required": [
          "app_version",
          "os",
          "os_version",
          "architecture",
          "enabled_extensions"
        ],
        "properties": {
          "app_version": {
            "type": "string"
          },
          "architecture": {
            "type": "string"
          },
          "enabled_extensions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "model": {
            "type": "string",
            "nullable": true
          },
          "os": {
            "type": "string"
          },
          "os_version": {
            "type": "string"
          },
          "provider": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "SystemNotificationContent": {
        "type": "object",
        "required": [
          "notificationType",
          "msg"
        ],
        "properties": {
          "data": {
            "nullable": true
          },
          "msg": {
            "type": "string"
          },
          "notificationType": {
            "$ref": "#/components/schemas/SystemNotificationType"
          }
        }
      },
      "SystemNotificationType": {
        "type": "string",
        "enum": [
          "thinkingMessage",
          "inlineMessage"
        ]
      },
      "TaskSupport": {
        "oneOf": [
          {
            "type": "string"
          },
          {
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "TelemetryEventRequest": {
        "type": "object",
        "required": [
          "event_name"
        ],
        "properties": {
          "event_name": {
            "type": "string"
          },
          "properties": {
            "type": "object",
            "additionalProperties": {}
          }
        }
      },
      "Template": {
        "type": "object",
        "description": "Information about a template including its content and customization status",
        "required": [
          "name",
          "description",
          "default_content",
          "is_customized"
        ],
        "properties": {
          "default_content": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "is_customized": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "user_content": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "TextContent": {
        "type": "object",
        "required": [
          "text"
        ],
        "properties": {
          "_meta": {
            "type": "object",
            "additionalProperties": true
          },
          "annotations": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Annotations"
              },
              {
                "type": "object"
              }
            ]
          },
          "text": {
            "type": "string"
          }
        }
      },
      "ThinkingContent": {
        "type": "object",
        "required": [
          "thinking",
          "signature"
        ],
        "properties": {
          "signature": {
            "type": "string"
          },
          "thinking": {
            "type": "string"
          }
        }
      },
      "ToggleAgentResponse": {
        "type": "object",
        "required": [
          "name",
          "enabled"
        ],
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "TokenState": {
        "type": "object",
        "required": [
          "inputTokens",
          "outputTokens",
          "totalTokens",
          "accumulatedInputTokens",
          "accumulatedOutputTokens",
          "accumulatedTotalTokens"
        ],
        "properties": {
          "accumulatedInputTokens": {
            "type": "integer",
            "format": "int32"
          },
          "accumulatedOutputTokens": {
            "type": "integer",
            "format": "int32"
          },
          "accumulatedTotalTokens": {
            "type": "integer",
            "format": "int32"
          },
          "inputTokens": {
            "type": "integer",
            "format": "int32"
          },
          "outputTokens": {
            "type": "integer",
            "format": "int32"
          },
          "totalTokens": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "Tool": {
        "type": "object",
        "required": [
          "name",
          "inputSchema"
        ],
        "properties": {
          "_meta": {
            "type": "object",
            "additionalProperties": true
          },
          "annotations": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ToolAnnotations"
              },
              {
                "type": "object"
              }
            ]
          },
          "description": {
            "type": "string"
          },
          "execution": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ToolExecution"
              },
              {
                "type": "object"
              }
            ]
          },
          "icons": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Icon"
            }
          },
          "inputSchema": {
            "type": "object",
            "additionalProperties": true
          },
          "name": {
            "type": "string"
          },
          "outputSchema": {
            "type": "object",
            "additionalProperties": true
          },
          "title": {
            "type": "string"
          }
        }
      },
      "ToolAnalytics": {
        "type": "object",
        "description": "Analytics for tool usage extracted from stored messages",
        "required": [
          "total_tool_calls",
          "total_tool_errors",
          "success_rate",
          "tool_usage",
          "daily_tool_activity",
          "extension_usage",
          "session_tool_summary"
        ],
        "properties": {
          "daily_tool_activity": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DailyToolActivity"
            }
          },
          "extension_usage": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtensionUsageStat"
            }
          },
          "session_tool_summary": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SessionToolSummary"
            }
          },
          "success_rate": {
            "type": "number",
            "format": "double"
          },
          "tool_usage": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ToolUsageStat"
            }
          },
          "total_tool_calls": {
            "type": "integer",
            "format": "int64"
          },
          "total_tool_errors": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ToolAnnotations": {
        "type": "object",
        "properties": {
          "destructiveHint": {
            "type": "boolean"
          },
          "idempotentHint": {
            "type": "boolean"
          },
          "openWorldHint": {
            "type": "boolean"
          },
          "readOnlyHint": {
            "type": "boolean"
          },
          "title": {
            "type": "string"
          }
        }
      },
      "ToolConfirmationRequest": {
        "type": "object",
        "required": [
          "id",
          "toolName",
          "arguments"
        ],
        "properties": {
          "arguments": {
            "$ref": "#/components/schemas/JsonObject"
          },
          "id": {
            "type": "string"
          },
          "prompt": {
            "type": "string",
            "nullable": true
          },
          "toolName": {
            "type": "string"
          }
        }
      },
      "ToolExecution": {
        "type": "object",
        "properties": {
          "taskSupport": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TaskSupport"
              },
              {
                "type": "object"
              }
            ]
          }
        }
      },
      "ToolInfo": {
        "type": "object",
        "description": "Information about the tool used for building prompts",
        "required": [
          "name",
          "description",
          "parameters"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "parameters": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "permission": {
            "allOf": [
              {
                "$ref": "#/components/schemas/PermissionLevel"
              }
            ],
            "nullable": true
          }
        }
      },
      "ToolPermission": {
        "type": "object",
        "required": [
          "tool_name",
          "permission"
        ],
        "properties": {
          "permission": {
            "$ref": "#/components/schemas/PermissionLevel"
          },
          "tool_name": {
            "type": "string"
          }
        }
      },
      "ToolRequest": {
        "type": "object",
        "required": [
          "id",
          "toolCall"
        ],
        "properties": {
          "_meta": {
            "type": "object"
          },
          "id": {
            "type": "string"
          },
          "metadata": {
            "type": "object"
          },
          "toolCall": {
            "type": "object"
          }
        }
      },
      "ToolResponse": {
        "type": "object",
        "required": [
          "id",
          "toolResult"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "metadata": {
            "type": "object"
          },
          "toolResult": {
            "type": "object"
          }
        }
      },
      "ToolUsageStat": {
        "type": "object",
        "description": "Per-tool usage statistics",
        "required": [
          "tool_name",
          "extension",
          "call_count",
          "error_count",
          "success_rate"
        ],
        "properties": {
          "call_count": {
            "type": "integer",
            "format": "int64"
          },
          "error_count": {
            "type": "integer",
            "format": "int64"
          },
          "extension": {
            "type": "string"
          },
          "success_rate": {
            "type": "number",
            "format": "double"
          },
          "tool_name": {
            "type": "string"
          }
        }
      },
      "TopTool": {
        "type": "object",
        "required": [
          "name",
          "calls",
          "errorRate"
        ],
        "properties": {
          "calls": {
            "type": "integer",
            "format": "int32"
          },
          "errorRate": {
            "type": "number",
            "format": "double"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "TopicAgentDistribution": {
        "type": "object",
        "required": [
          "agent",
          "count"
        ],
        "properties": {
          "agent": {
            "type": "string"
          },
          "count": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "TopicAnalytics": {
        "type": "object",
        "required": [
          "topic",
          "caseCount",
          "accuracy",
          "agentDistribution"
        ],
        "properties": {
          "accuracy": {
            "type": "number",
            "format": "double"
          },
          "agentDistribution": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TopicAgentDistribution"
            }
          },
          "caseCount": {
            "type": "integer",
            "format": "int64"
          },
          "topic": {
            "type": "string"
          }
        }
      },
      "TranscribeRequest": {
        "type": "object",
        "required": [
          "audio",
          "mime_type",
          "provider"
        ],
        "properties": {
          "audio": {
            "type": "string",
            "description": "Base64 encoded audio data"
          },
          "mime_type": {
            "type": "string",
            "description": "MIME type of the audio (e.g., \"audio/webm\", \"audio/wav\")"
          },
          "provider": {
            "$ref": "#/components/schemas/DictationProvider"
          }
        }
      },
      "TranscribeResponse": {
        "type": "object",
        "required": [
          "text"
        ],
        "properties": {
          "text": {
            "type": "string",
            "description": "Transcribed text from the audio"
          }
        }
      },
      "TunnelInfo": {
        "type": "object",
        "required": [
          "state",
          "url",
          "hostname",
          "secret"
        ],
        "properties": {
          "hostname": {
            "type": "string"
          },
          "secret": {
            "type": "string"
          },
          "state": {
            "$ref": "#/components/schemas/TunnelState"
          },
          "url": {
            "type": "string"
          }
        }
      },
      "TunnelState": {
        "type": "string",
        "enum": [
          "idle",
          "starting",
          "running",
          "error",
          "disabled"
        ]
      },
      "UiMetadata": {
        "type": "object",
        "description": "UI-specific metadata for MCP resources",
        "properties": {
          "csp": {
            "allOf": [
              {
                "$ref": "#/components/schemas/CspMetadata"
              }
            ],
            "nullable": true
          },
          "domain": {
            "type": "string",
            "description": "Preferred domain for the app (used for CORS)",
            "nullable": true
          },
          "permissions": {
            "$ref": "#/components/schemas/PermissionsMetadata"
          },
          "prefersBorder": {
            "type": "boolean",
            "description": "Whether the app prefers to have a border around it",
            "nullable": true
          }
        }
      },
      "UpdateCustomProviderRequest": {
        "type": "object",
        "required": [
          "engine",
          "display_name",
          "api_url",
          "api_key",
          "models"
        ],
        "properties": {
          "api_key": {
            "type": "string"
          },
          "api_url": {
            "type": "string"
          },
          "display_name": {
            "type": "string"
          },
          "engine": {
            "type": "string"
          },
          "headers": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "nullable": true
          },
          "models": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "requires_auth": {
            "type": "boolean"
          },
          "supports_streaming": {
            "type": "boolean",
            "nullable": true
          }
        }
      },
      "UpdateFromSessionRequest": {
        "type": "object",
        "required": [
          "session_id"
        ],
        "properties": {
          "session_id": {
            "type": "string"
          }
        }
      },
      "UpdateProviderRequest": {
        "type": "object",
        "required": [
          "provider",
          "session_id"
        ],
        "properties": {
          "context_limit": {
            "type": "integer",
            "nullable": true,
            "minimum": 0
          },
          "model": {
            "type": "string",
            "nullable": true
          },
          "provider": {
            "type": "string"
          },
          "request_params": {
            "type": "object",
            "additionalProperties": {},
            "nullable": true
          },
          "session_id": {
            "type": "string"
          }
        }
      },
      "UpdateScheduleRequest": {
        "type": "object",
        "required": [
          "cron"
        ],
        "properties": {
          "cron": {
            "type": "string"
          }
        }
      },
      "UpdateSessionNameRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Updated name for the session (max 200 characters)"
          }
        }
      },
      "UpdateSessionUserRecipeValuesRequest": {
        "type": "object",
        "required": [
          "userRecipeValues"
        ],
        "properties": {
          "userRecipeValues": {
            "type": "object",
            "description": "Recipe parameter values entered by the user",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "UpdateSessionUserRecipeValuesResponse": {
        "type": "object",
        "required": [
          "recipe"
        ],
        "properties": {
          "recipe": {
            "$ref": "#/components/schemas/Recipe"
          }
        }
      },
      "UpdateWorkingDirRequest": {
        "type": "object",
        "required": [
          "session_id",
          "working_dir"
        ],
        "properties": {
          "session_id": {
            "type": "string"
          },
          "working_dir": {
            "type": "string"
          }
        }
      },
      "UpsertConfigQuery": {
        "type": "object",
        "required": [
          "key",
          "value",
          "is_secret"
        ],
        "properties": {
          "is_secret": {
            "type": "boolean"
          },
          "key": {
            "type": "string"
          },
          "value": {}
        }
      },
      "UpsertPermissionsQuery": {
        "type": "object",
        "required": [
          "tool_permissions"
        ],
        "properties": {
          "tool_permissions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ToolPermission"
            }
          }
        }
      },
      "UserInfoResponse": {
        "type": "object",
        "required": [
          "id",
          "name",
          "auth_method",
          "is_guest",
          "is_authenticated"
        ],
        "properties": {
          "auth_method": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "is_authenticated": {
            "type": "boolean"
          },
          "is_guest": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "tenant": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ValidatePipelineResponse": {
        "type": "object",
        "required": [
          "valid",
          "warnings"
        ],
        "properties": {
          "error": {
            "type": "string",
            "nullable": true
          },
          "valid": {
            "type": "boolean"
          },
          "warnings": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "VersionInfo": {
        "type": "object",
        "description": "Version info for correlation tracking",
        "required": [
          "goose_version",
          "active_extensions"
        ],
        "properties": {
          "active_extensions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "goose_version": {
            "type": "string"
          }
        }
      },
      "Viewport": {
        "type": "object",
        "required": [
          "x",
          "y",
          "zoom"
        ],
        "properties": {
          "x": {
            "type": "number",
            "format": "double"
          },
          "y": {
            "type": "number",
            "format": "double"
          },
          "zoom": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "WhisperModelResponse": {
        "allOf": [
          {
            "type": "object",
            "required": [
              "id",
              "size_mb",
              "url",
              "description"
            ],
            "properties": {
              "description": {
                "type": "string",
                "description": "Description"
              },
              "id": {
                "type": "string",
                "description": "Model identifier (e.g., \"tiny\", \"base\", \"small\")"
              },
              "size_mb": {
                "type": "integer",
                "format": "int32",
                "description": "Model file size in MB",
                "minimum": 0
              },
              "url": {
                "type": "string",
                "description": "Download URL from HuggingFace"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "downloaded",
              "recommended"
            ],
            "properties": {
              "downloaded": {
                "type": "boolean"
              },
              "recommended": {
                "type": "boolean"
              }
            }
          }
        ]
      },
      "WindowProps": {
        "type": "object",
        "required": [
          "width",
          "height",
          "resizable"
        ],
        "properties": {
          "height": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "resizable": {
            "type": "boolean"
          },
          "width": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          }
        }
      }
    }
  }
}
