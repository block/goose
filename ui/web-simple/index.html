<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Goose Web UI</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="chat-container">
        <div id="session-controls">
            <div class="session-dropdown-container">
                <select id="session-select">
                    <option value="">New Session</option>
                    <!-- Saved sessions will be added here dynamically -->
                </select>
                <button id="save-session-button" title="Save current session">üíæ</button>
                <button id="delete-session-button" title="Delete selected session">üóëÔ∏è</button>
            </div>
        </div>
        <div id="message-list">
            <!-- Messages will be appended here -->
        </div>
        <div id="input-area">
            <textarea id="message-input" placeholder="Type your message..." rows="3"></textarea>
            <button id="send-button">Send</button>
        </div>
        <div id="status-area">
             <div class="settings-header">
                 <div>Status: <span id="status">Idle</span></div>
                 <button id="settings-toggle-button">Hide Settings</button>
             </div>
             <div id="settings-content"> <!-- Content wrapper -->
                 <div>
                     Secret Key: <input type="password" id="secret-key-input" placeholder="Default: goose-web-simple">
                 </div>
                 <div style="margin-top: 5px;">
                     Goosed URL: <input type="text" id="goosed-url-input" placeholder="Default: http://localhost:7878">
                     <button id="connect-button" style="margin-left: 5px;">Connect</button>
                 </div>
                 <div id="llm-settings">
                     Provider: <select id="provider-select"><option>Loading...</option></select>
                     Model: <select id="model-select"><option>Select Provider...</option></select>
                     <input type="text" id="custom-model-input" placeholder="Enter custom model name">
                     <button id="save-settings-button">Save LLM</button>
                 </div>
                 <div id="provider-config-area">
                     <!-- Provider-specific config fields will appear here -->
                     <h4>Configure <span id="current-provider-name"></span></h4>
                     <div id="provider-fields"></div>
                     <button id="save-provider-button" style="display: none;">Save Provider Settings</button>
                 </div>
             </div> <!-- End settings-content -->
        </div>
    </div>

    <!-- Include provider registry first -->
    <script type="module" src="provider_registry.js"></script>
    <script type="module" src="main.js"></script>
</body>
</html>