version: 1.0.0
title: Messy Column Fixer
author:
  contact: the-matrixneo 
description: "Fixes messy columns: normalizes and cleans CSV data."
instructions: |
  1. Provide the path to your CSV file.
  2. The recipe will scan all columns for type mismatches and missing values.
  3. It will suggest fixes (or automatically apply them, depending on your choice).
  4. Review the output and save your cleaned file.
activities:
  - Validate the input CSV file.
  - Analyze columns for data quality issues (mixed types, missing values).
  - Apply or suggest data cleaning and normalization fixes.
  - Generate a summary report and the cleaned CSV file.
  - Provide the cleaned CSV file with a "_cleaned" suffix.
parameters:
  - key: file_path
    input_type: string
    requirement: required
    description: "Path to the CSV file you want to clean."
  - key: auto_fix_decision
    input_type: string
    requirement: optional
    description: "Describe how fixes should be applied (e.g., 'apply automatically', 'suggest only')."
    default: "suggest only"
    choices:
      - "apply automatically"
      - "suggest only"
extensions:
  - type: builtin
    name: developer
    description: "Fixes messy columns in CSV files by normalizing and cleaning the data."
    display_name: Developer
    timeout: 300
    bundled: true
prompt: |
  You are a CSV cleaning assistant.
  1.  First, validate that the file at {{ file_path }} exists and is a readable CSV. If not, inform the user and stop.
  2.  Scan the file to identify columns with mixed data types, missing values, or formatting issues.
  3.  Based on the {{ auto_fix_decision }} parameter, either suggest or apply fixes for the detected issues.
  4.  For each fix, briefly explain the reasoning (e.g., "Converted 'Age' column to Integer because many values are numeric.").
  5.  Provide a comprehensive summary of the changes and output the cleaned dataset.
