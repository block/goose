version: 1.0.0
title: "Explore Test - With Analyze"
description: "Test codebase exploration with the analyze tool available"

parameters:
  - key: question
    input_type: string
    requirement: required
    description: "The exploration question to answer about the codebase"
  - key: target_directory
    input_type: string
    requirement: optional
    default: "."
    description: "Directory to explore"

prompt: |
  You are exploring a codebase to answer a question.

  Target directory: {{ target_directory }}

  Question: {{ question }}

  **Strategy**: Use the `analyze` tool as your primary exploration method:
  1. Start with `analyze` on the target directory to understand structure
  2. Use `analyze` with `focus` parameter to find symbol definitions and call graphs
  3. Only use `text_editor` to read specific file sections when you need exact implementation details
  4. Avoid reading entire files - let analyze give you the map, then selectively read

  The analyze tool has three modes:
  - Directory mode: `analyze(path="/dir")` - shows file tree with LOC/function/class counts
  - File mode: `analyze(path="/file.rs")` - shows functions, classes, imports without full code
  - Focused mode: `analyze(path="/dir", focus="symbol_name")` - finds where symbol is defined and what calls it

  Provide a clear, structured answer. When you're done, summarize what tools you used
  and how many times you called each one.

extensions:
  - type: builtin
    name: developer
    # Empty available_tools = all tools available (including analyze)
